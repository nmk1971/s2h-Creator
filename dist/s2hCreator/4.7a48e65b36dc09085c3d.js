(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{KEJB:function(t,e,n){"use strict";n.r(e),n.d(e,"CreatorModule",(function(){return En}));var i=n("ofXK"),o=n("tk/3"),s=n("3Pt+"),r=n("jAig"),c=n("+0xr"),a=n("M9IT"),u=n("Dh3D"),l=n("fXoL");let b=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[i.c,s.q,s.h,o.c,r.a,c.l,a.b,u.c]]}),t})();var d=n("tyNb");let p=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[i.c,s.q,s.h,o.c,r.a,c.l,a.b,u.c,d.f,b]]}),t})(),m=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[i.c,d.f,s.h,s.q,r.a,o.c]]}),t})();var h=n("weob"),f=n("bnxV"),g=n("AytR");let S=(()=>{class t{constructor(t){this.http=t}postGroup(t){return this.http.post(g.a.apiUrl+"/api/v1/groups/add",t)}getGroupsByCreator(t){return this.http.get(`${g.a.apiUrl}/api/v1/groups/creator/${t}`)}getGroupById(t){return this.http.get(`${g.a.apiUrl}/api/v1/groups/${t}`)}updateGroup(t,e){return this.http.patch(`${g.a.apiUrl}/api/v1/groups/update/${t}`,e)}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v=(()=>{class t{constructor(t){this.groupService=t}resolve(t,e){return this.groupService.getGroupById(t.paramMap.get("id"))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(S))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=n("lJxs");let R=(()=>{class t{constructor(t){this.http=t}createSession(t){return this.http.post(g.a.apiUrl+"/api/v1/sessions/create",t)}findSessionsByCreator(t,e=0,n=10,i="createdate",s="desc",r=""){return this.http.get(`${g.a.apiUrl}/api/v1/sessions/creator/${t}`,{params:(new o.d).set("page",e.toString()).set("limit",n.toString()).set("sort",i).set("direction",s).set("filter",r)}).pipe(Object(x.a)(t=>t.payload))}findSessionById(t){return this.http.get(`${g.a.apiUrl}/api/v1/sessions/${t}`)}startSession(t){return this.http.patch(`${g.a.apiUrl}/api/v1/sessions/start/${t}`,null)}closeSession(t){return this.http.patch(`${g.a.apiUrl}/api/v1/sessions/close/${t}`,null)}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C=(()=>{class t{constructor(t){this.sessionService=t}resolve(t,e){return this.sessionService.findSessionById(t.paramMap.get("id"))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(R))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var w=n("Wp6s"),y=n("MutI"),k=n("NFeN");function q(t,e){if(1&t&&(l.Sb(0,"div",5),l.Ac(1),l.Rb()),2&t){const t=l.dc();l.Bb(1),l.Cc(" Description : ",null==t.currentSession||null==t.currentSession.idquiz?null:t.currentSession.idquiz.description,"\n")}}function z(t,e){1&t&&(l.Sb(0,"div"),l.Sb(1,"p",1),l.Ac(2,"Session Anonyme"),l.Rb(),l.Rb())}function B(t,e){if(1&t&&(l.Sb(0,"div"),l.Sb(1,"p",1),l.Ac(2),l.Rb(),l.Rb()),2&t){const t=l.dc();l.Bb(2),l.Cc("Group : ",null==t.currentSession||null==t.currentSession.group?null:t.currentSession.group.label,"")}}function A(t,e){if(1&t&&(l.Sb(0,"mat-list-option"),l.Sb(1,"div",20),l.Sb(2,"div",21),l.Ac(3),l.Rb(),l.Sb(4,"div",22),l.Sb(5,"mat-icon"),l.Ac(6,"fiber_manual_record"),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t){const t=e.$implicit,n=e.index;l.Bb(3),l.Ec(" ",n+1,"- ",t.firstname," ",t.lastname,"")}}let M=(()=>{class t{constructor(t){var e,n;this.route=t,this.currentSession=null===(n=null===(e=this.route.snapshot)||void 0===e?void 0:e.data)||void 0===n?void 0:n.session.payload}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(d.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-session-dashboard"]],decls:35,vars:13,consts:[[1,"mat-h1"],[1,""],[1,"text-center","text-gray-900","text-base","sm:text-sm","md:text-md","lg:text-lg","xl:text-xl","font-mono","font-bold",".placeholder-gray-400","px-2","py-2"],[1,"text-center","text-gray-700","text-base","sm:text-sm","md:text-md","lg:text-lg","xl:text-xl","font-mono","font-bold","placeholder-gray-400"],["class","text-gray-700\nfont-mono font-bold placeholder-gray-400  px-2 py-2",4,"ngIf"],[1,"text-gray-700","font-mono","font-bold","placeholder-gray-400","px-2","py-2"],[1,"flex","flex-row","flex-wrap","md:flex-no-wrap","justify-center","w-full"],[1,"mx-2","px-2","py-2","w-1/2"],[1,"flex","flex-col"],[1,"flex","flex-col","self-center","text-center","text-gray-900","text-base","sm:text-2xl","md:text-3xl","lg:text-4xl","xl:text-5xl","font-mono","font-bold","placeholder-gray-400","border-blue-900","p-2","shadow-lg","border"],[1,"flex","flex-row","px-3","py-3"],[1,"bg-yellow-200","w-1/2","h-full","px-3","py-3"],[4,"ngIf"],[1,"bg-green-200"],[1,"bg-green-200","w-1/2","h-full","px-3","py-3"],[1,"text-blue-900"],[1,"w-full","h-40","overflow-y-scroll"],[3,"multiple"],["students",""],[4,"ngFor","ngForOf"],[1,"flex","flex-row"],[1,"w-11/12"],[1,"w-1/12"]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1,"Tableau de Bord Session"),l.Rb(),l.Sb(2,"p",1),l.Sb(3,"span",2),l.Ac(4),l.Rb(),l.Rb(),l.Sb(5,"p",1),l.Sb(6,"span",3),l.Ac(7),l.Rb(),l.Rb(),l.zc(8,q,2,1,"div",4),l.Sb(9,"div",5),l.Ac(10),l.Rb(),l.Sb(11,"div",6),l.Sb(12,"mat-card",7),l.Sb(13,"mat-card-content",8),l.Sb(14,"div",9),l.Ac(15),l.Rb(),l.Sb(16,"div",10),l.Sb(17,"div",11),l.zc(18,z,3,0,"div",12),l.zc(19,B,3,1,"div",12),l.Nb(20,"div",13),l.Rb(),l.Sb(21,"div",14),l.Ac(22," salah "),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(23,"mat-card",7),l.Sb(24,"mat-card-content"),l.Sb(25,"h1",15),l.Ac(26),l.Rb(),l.Sb(27,"div",16),l.Sb(28,"mat-selection-list",17,18),l.zc(30,A,7,3,"mat-list-option",19),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(31,"pre"),l.Sb(32,"code"),l.Ac(33),l.ec(34,"json"),l.Rb(),l.Rb()),2&t&&(l.Bb(4),l.Cc(" Titre du Quiz : ",null==e.currentSession||null==e.currentSession.idquiz?null:e.currentSession.idquiz.title," "),l.Bb(3),l.Cc(" Th\xe8me : ",null==e.currentSession||null==e.currentSession.idquiz?null:e.currentSession.idquiz.theme," "),l.Bb(1),l.kc("ngIf",null==e.currentSession||null==e.currentSession.idquiz?null:e.currentSession.idquiz.description),l.Bb(2),l.Cc(" Questions : ",null==e.currentSession||null==e.currentSession.idquiz||null==e.currentSession.idquiz.questions?null:e.currentSession.idquiz.questions.length,"\n"),l.Bb(5),l.Cc(" Code : ",null==e.currentSession?null:e.currentSession.quizsessioncode," "),l.Bb(3),l.kc("ngIf",e.currentSession.isAnonymous),l.Bb(1),l.kc("ngIf",!e.currentSession.isAnonymous),l.Bb(7),l.Cc("Apprenants: (",null==e.currentSession||null==e.currentSession.group||null==e.currentSession.group.students?null:e.currentSession.group.students.length,")"),l.Bb(2),l.kc("multiple",!1),l.Bb(2),l.kc("ngForOf",null==e.currentSession||null==e.currentSession.group?null:e.currentSession.group.students),l.Bb(3),l.Cc("\n    ",l.fc(34,11,e.currentSession),"\n"))},directives:[i.m,w.a,w.b,y.g,i.l,y.e,k.a],pipes:[i.g],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;bottom:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),t})();var O=n("dNgK"),Q=n("pzaG"),I=n("2Vo4");let _=(()=>{class t{constructor(t){this.http=t,this.studentList=[],this.currentStudentList$=new I.a(this.studentList)}postStudent(t){return this.http.post(g.a.apiUrl+"/api/v1/students/add",t)}deleteSudentFromAPI(t){return this.http.delete(`${g.a.apiUrl}/api/v1/students/delete/${t}`)}updateStudentInAPI(t,e){return this.http.patch(`${g.a.apiUrl}/api/v1/students/update/${t}`,e)}getStudentsByGroup(t){return this.http.get(`${g.a.apiUrl}/api/v1/questions/group/${t}`)}loadStudents(t){this.studentList=[...t],this.currentStudentList$.next(this.studentList)}addStudent(t){this.studentList.push(t),this.currentStudentList$.next(this.studentList)}deleteStudent(t){this.studentList=this.studentList.filter(e=>e._id!==t),this.currentStudentList$.next(this.studentList)}updateStudent(t){const e=this.studentList.findIndex(e=>e._id===t._id);this.studentList[e]=t,this.currentStudentList$.next(this.studentList)}findStudentsByCreator(t,e=0,n=10,i="firstname",s="asc",r=""){return this.http.get(`${g.a.apiUrl}/api/v1/students/creator/${t}`,{params:(new o.d).set("page",e.toString()).set("limit",n.toString()).set("sort",i).set("direction",s).set("filter",r)}).pipe(Object(x.a)(t=>t.payload))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var L=n("kmnG"),P=n("qFsG"),$=n("bTqV"),F=n("d3UM"),N=n("FKr1");function D(t,e){if(1&t&&(l.Sb(0,"mat-option",10),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.kc("value",t),l.Bb(1),l.Cc(" ",t," ")}}let G=(()=>{class t{constructor(t,e,n){this.fb=t,this.studentService=e,this.snackBar=n,this.genders=["Homme","Femme"],this.onStudentSave=new l.o,this.createStudentForm=t.group({firstname:["",s.s.required],lastname:["",s.s.required],gender:["Homme",s.s.required]})}ngOnInit(){console.log("from add-student-form context : ",this.context),"new"===this.context?this.createStudentForm.reset():"update"===this.context&&(this.createStudentForm=this.fb.group({firstname:[this.student.firstname,s.s.required],lastname:[this.student.lastname,s.s.required],gender:[this.student.gender,s.s.required]}))}ngOnChanges(){console.log(`%c ${JSON.stringify(this.student)} `,"background: tomato; color: white"),"update"===this.context&&(this.createStudentForm=this.fb.group({firstname:[this.student.firstname,s.s.required],lastname:[this.student.lastname,s.s.required],gender:[this.student.gender,s.s.required]}))}postStudent(){const t=Object.assign({},this.createStudentForm.value);t.group=this.groupId,console.log(this.creator),t.creator=this.creator._id,this.studentService.postStudent(t).subscribe({next:t=>{this.snackBar.open(t.message,"x",{duration:4e3}),this.studentService.addStudent(t.payload),this.onStudentSave.emit("Ok"),this.createStudentForm.reset()},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}updateStudent(){const t=this.student;t.firstname=this.createStudentForm.value.firstname,t.lastname=this.createStudentForm.value.lastname,t.gender=this.createStudentForm.value.gender,this.studentService.updateStudentInAPI(this.student._id,t).subscribe({next:e=>{this.snackBar.open(e.message,"x",{duration:4e3}),this.studentService.updateStudent(t),this.onStudentSave.emit("Ok")},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}saveStudent(){console.log(this.context," FROM SaveStudent()"),"new"===this.context?this.postStudent():"update"===this.context&&this.updateStudent()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(s.e),l.Mb(_),l.Mb(O.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-add-student"]],inputs:{groupId:"groupId",context:"context",student:"student",creator:"creator"},outputs:{onStudentSave:"onStudentSave"},features:[l.zb],decls:15,vars:3,consts:[[1,"flex","flex-col","mx-auto"],[1,"flex","flex-row"],[1,"shadow-lg","sm:flex","sm:w-full","bg-white","p-8","mx-2","w-full"],[1,"w-full","p-5","m-5",3,"formGroup"],[1,"w-full"],["matInput","","type","text","placeholder","Pr\xe9nom","required","","formControlName","firstname",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1","text-4xl"],["type","text","placeholder","Nom","formControlName","lastname","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],["formControlName","gender","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"form",3),l.Sb(4,"mat-form-field",4),l.Nb(5,"input",5),l.Rb(),l.Sb(6,"mat-form-field",4),l.Nb(7,"input",6),l.Rb(),l.Sb(8,"mat-label"),l.Ac(9,"Genre"),l.Rb(),l.Sb(10,"mat-select",7),l.zc(11,D,2,2,"mat-option",8),l.Rb(),l.Sb(12,"div",4),l.Sb(13,"button",9),l.Zb("click",(function(){return e.saveStudent()})),l.Ac(14," Enregistrer "),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(3),l.kc("formGroup",e.createStudentForm),l.Bb(8),l.kc("ngForOf",e.genders),l.Bb(2),l.kc("disabled",!e.createStudentForm.valid))},directives:[s.t,s.n,s.g,L.c,P.b,s.c,s.r,s.m,s.f,L.g,F.a,i.l,$.b,N.m],styles:[""]}),t})();var T=n("0IaG");let j=(()=>{class t{constructor(t,e,n){this.data=t,this.dialogRef=e,this.message=n}ngOnInit(){}confirm(){this.dialogRef.close(!0)}cancel(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(T.a),l.Mb(T.g),l.Mb(T.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-confirmation-dialog"]],decls:13,vars:1,consts:[["mat-dialog-title","",1,"flex","text-center"],[1,"mat-display-1","font-mono","text-gray-900"],[1,"flex","flex-row","justify-between","py-5"],[1,"flex","items-center"],["mat-raised-button","","mat-dialog-close","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1,"Confirmation"),l.Rb(),l.Nb(2,"hr"),l.Sb(3,"mat-dialog-content"),l.Sb(4,"span",1),l.Ac(5),l.Rb(),l.Rb(),l.Sb(6,"mat-dialog-actions",2),l.Sb(7,"div",3),l.Sb(8,"button",4),l.Zb("click",(function(){return e.cancel()})),l.Ac(9," Non "),l.Rb(),l.Rb(),l.Sb(10,"div",3),l.Sb(11,"button",5),l.Zb("click",(function(){return e.confirm()})),l.Ac(12," Oui "),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(5),l.Bc(e.message))},directives:[T.h,T.e,T.c,$.b,T.d],styles:[""]}),t})(),U=(()=>{class t{transform(t,e){return""!==e?t.filter(t=>-1!==t.firstname.toLowerCase().indexOf(e.toLowerCase())||-1!==t.firstname.toLowerCase().indexOf(e.toLowerCase())||-1!==t.loginname.toLowerCase().indexOf(e.toLowerCase())):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Lb({name:"studentListFilter",type:t,pure:!0}),t})();function Z(t,e){if(1&t){const t=l.Tb();l.Sb(0,"li",10),l.Sb(1,"span"),l.Ac(2),l.Rb(),l.Sb(3,"span"),l.Sb(4,"span",11),l.Ac(5),l.Rb(),l.Sb(6,"button",12),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().deleteStudent(null==n?null:n._id)})),l.Sb(7,"mat-icon",13),l.Ac(8,"delete"),l.Rb(),l.Rb(),l.Sb(9,"button",12),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().updateStudent(n)})),l.Sb(10,"mat-icon",14),l.Ac(11,"edit"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=e.index;l.kc("highlightColor","green"),l.Bb(2),l.Fc(" ",n+1,"- ",t.firstname," ",t.lastname," ( ",t.loginname,") "),l.Bb(3),l.Cc(" ",t.password,"")}}let H=(()=>{class t{constructor(t,e,n){this.studentService=t,this.shnackBar=e,this.dialog=n,this.onStudentUpdateClicked=new l.o,this.searchText="",this.color="orange"}ngOnInit(){this.students$=this.studentService.currentStudentList$.asObservable()}deleteStudent(t){this.dialog.open(j,{width:"450px",data:"Supprimer l'Apprenant?"}).afterClosed().subscribe(e=>{e&&this.studentService.deleteSudentFromAPI(t).subscribe({next:e=>{this.shnackBar.open(e.message,"X",{duration:4e3}),"success"===e.status&&this.studentService.deleteStudent(t)},error:t=>{this.shnackBar.open(t.message,"X")},complete:console.log})})}updateStudent(t){this.onStudentUpdateClicked.next(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(_),l.Mb(O.a),l.Mb(T.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-students-gadget"]],outputs:{onStudentUpdateClicked:"onStudentUpdateClicked"},decls:15,vars:10,consts:[[1,"w-full"],[1,"text-center"],[1,"text-blue-800"],[1,"flex","flex-row","content-end","block","inline-block","p-3","mx-auto","my-2","mr-6"],["type","search","placeholder","Filter...",1,"p-3","border-0","rounded","shadow","bg-purple-white",3,"ngModel","ngModelChange"],[1,"mt-3","mr-4","pin-r","pin-t","text-purple-lighter"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 52.966 52.966",0,"xml","space","preserve",1,"h-4","text-dark",2,"enable-background","new 0 0 52.966 52.966"],["d","M51.704,51.273L36.845,35.82c3.79-3.801,6.138-9.041,6.138-14.82c0-11.58-9.42-21-21-21s-21,9.42-21,21s9.42,21,21,21\n      c5.083,0,9.748-1.817,13.384-4.832l14.895,15.491c0.196,0.205,0.458,0.307,0.721,0.307c0.25,0,0.499-0.093,0.693-0.279\n      C52.074,52.304,52.086,51.671,51.704,51.273z M21.983,40c-10.477,0-19-8.523-19-19s8.523-19,19-19s19,8.523,19,19\n      S32.459,40,21.983,40z"],[1,"w-full","px-4","mx-2","flex","flex-col","overflow-y-scroll","h-48"],["appHighlight","","class","text-gray-800 justify-between flex  w-full",3,"highlightColor",4,"ngFor","ngForOf"],["appHighlight","",1,"text-gray-800","justify-between","flex","w-full",3,"highlightColor"],[1,"text-red-700","inline-block"],["mat-button","",3,"click"],["color","warn",1,"icon-button"],["color","primary",1,"icon-button"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"h1",1),l.Ac(2,"Liste des Apprenants "),l.Sb(3,"span",2),l.Ac(4),l.ec(5,"async"),l.Rb(),l.Rb(),l.Sb(6,"div",3),l.Sb(7,"input",4),l.Zb("ngModelChange",(function(t){return e.searchText=t})),l.Rb(),l.Sb(8,"div",5),l.cc(),l.Sb(9,"svg",6),l.Nb(10,"path",7),l.Rb(),l.Rb(),l.Rb(),l.bc(),l.Sb(11,"ol",8),l.zc(12,Z,12,6,"li",9),l.ec(13,"studentListFilter"),l.ec(14,"async"),l.Rb(),l.Rb()),2&t&&(l.Bb(4),l.Cc("(",l.fc(5,3,e.students$).length,")"),l.Bb(3),l.kc("ngModel",e.searchText),l.Bb(5),l.kc("ngForOf",l.gc(13,5,l.fc(14,8,e.students$),e.searchText)))},directives:[s.c,s.m,s.p,i.l,$.b,k.a],pipes:[i.b,U],styles:[""]}),t})();function X(t,e){1&t&&(l.Sb(0,"span"),l.Ac(1," Cr\xe9er le Groupe "),l.Rb())}function E(t,e){1&t&&(l.Sb(0,"span"),l.Ac(1," Enregistrer le Groupe "),l.Rb())}const V=function(){return["/creator"]};let J=(()=>{class t{constructor(t,e,n,i,o,s,r){this.router=t,this.fb=e,this.groupService=n,this.snackBar=i,this.authenticationService=o,this.route=s,this.studentsService=r,this.isCreated=!1,this.context="new",this.createGroupForm=this.fb.group({label:[""],description:[""]})}ngOnChanges(t){}ngOnInit(){var t,e;this.userSubscription=this.authenticationService.currentUser.subscribe(t=>this.currentUser=t);const n=null===(e=null===(t=this.route.snapshot.data)||void 0===t?void 0:t.group)||void 0===e?void 0:e.payload;console.log("FROM ngInit : ",n),n?(this.createGroupForm=this.fb.group({label:[n.label],description:[n.description]}),this.isCreated=!0,this.currentGroup=n,this.studentsService.loadStudents(n.students)):this.studentsService.loadStudents([])}createGroup(){const t=Object.assign({},this.createGroupForm.value);t.owner=this.currentUser._id,this.subscription=this.groupService.postGroup(t).subscribe({next:t=>{"success"===t.status?(this.snackBar.open(t.status+"\n"+t.message,"X",{duration:4e3}),this.currentGroup=t.payload,this.isCreated=!0):this.snackBar.open(t.status+"\n"+t.message,"X")},error:t=>{this.snackBar.open(t,"close")},complete:console.log})}updateGroup(){this.updateSubscription=this.groupService.updateGroup(this.currentGroup._id,this.createGroupForm.value).subscribe({next:t=>{this.snackBar.open(t.status+"\n"+t.message,"X",{duration:4e3})},error:t=>{this.snackBar.open(t,"close")},complete:console.log})}saveGroup(){this.isCreated?this.updateGroup():this.createGroup()}updateStudentContext(t){this.studentToUpdate=Object.assign({},t),this.context="update"}onStudentSaveHandler(t){console.log(t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.userSubscription&&this.userSubscription.unsubscribe(),this.updateSubscription&&this.updateSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(d.b),l.Mb(s.e),l.Mb(S),l.Mb(O.a),l.Mb(Q.a),l.Mb(d.a),l.Mb(_))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-add-group"]],features:[l.zb],decls:19,vars:10,consts:[[1,"flex","flex-col","mx-auto"],[1,"shadow-lg","sm:flex","sm:w-full","bg-white","p-8","py-3","mx-2","w-full"],[1,"w-full","p-5","m-5",3,"formGroup"],[1,"w-full"],["matInput","","type","text","placeholder","Nom du groupe","required","","formControlName","label",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1","text-4xl"],["type","text","placeholder","Description","formControlName","description","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],["mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"flex","flex-row"],[1,"flex","w-1/2","justify-center","py-4","px-2","bg-gray-200","m-3"],[3,"groupId","creator","context","student","onStudentSave"],[1,"shadow-lg","w-1/2","sm:flex","sm:w-full","bg-white","p-8","py-2","my-2","mx-2"],[1,"w-full",3,"onStudentUpdateClicked"],[1,"w-1/6","px-3","py-3","justify-center"],["mat-button","","color","accent",3,"routerLink"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"form",2),l.Sb(3,"mat-form-field",3),l.Nb(4,"input",4),l.Rb(),l.Sb(5,"mat-form-field",3),l.Nb(6,"input",5),l.Rb(),l.Sb(7,"div",3),l.Sb(8,"button",6),l.Zb("click",(function(){return e.saveGroup()})),l.zc(9,X,2,0,"span",7),l.zc(10,E,2,0,"span",7),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(11,"div",8),l.Sb(12,"div",9),l.Sb(13,"app-add-student",10),l.Zb("onStudentSave",(function(t){return e.onStudentSaveHandler(t)})),l.Rb(),l.Rb(),l.Sb(14,"div",11),l.Sb(15,"app-students-gadget",12),l.Zb("onStudentUpdateClicked",(function(t){return e.updateStudentContext(t)})),l.Rb(),l.Rb(),l.Rb(),l.Sb(16,"div",13),l.Sb(17,"button",14),l.Ac(18,"Termin\xe9"),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(2),l.kc("formGroup",e.createGroupForm),l.Bb(6),l.kc("disabled",!e.createGroupForm.valid),l.Bb(1),l.kc("ngIf",!e.isCreated),l.Bb(1),l.kc("ngIf",e.isCreated),l.Bb(3),l.kc("groupId",null==e.currentGroup?null:e.currentGroup._id)("creator",null==e.currentGroup?null:e.currentGroup.owner)("context",e.context)("student",e.studentToUpdate),l.Bb(4),l.kc("routerLink",l.lc(9,V)))},directives:[s.t,s.n,s.g,L.c,P.b,s.c,s.r,s.m,s.f,$.b,i.m,G,H,d.c],styles:[""]}),t})();var W=n("LRne"),K=n("JIr8"),Y=n("nYR2");class tt{constructor(t){this.sessionService=t,this.sessionsSubject=new I.a([]),this.totalCount$=new I.a(0),this.loadingSubject=new I.a(!1),this.loading$=this.loadingSubject.asObservable()}loadSessions(t,e,n,i,o,s){this.loadingSubject.next(!0),this.sessionService.findSessionsByCreator(t,e,n,i,o,s).pipe(Object(K.a)(()=>Object(W.a)([])),Object(Y.a)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.sessionsSubject.next(t.items),this.totalCount$.next(t.totalCount)})}connect(t){return this.sessionsSubject.asObservable()}disconnect(t){this.sessionsSubject.complete(),this.loadingSubject.complete(),this.totalCount$.complete()}}var et=n("xgIS"),nt=n("VRyK"),it=n("Kj3r"),ot=n("/uUt"),st=n("vkgz"),rt=n("Xa2L"),ct=n("Qu3c"),at=n("bSwM");const ut=["input"];function lt(t,e){1&t&&(l.Sb(0,"div",18),l.Nb(1,"mat-spinner"),l.Rb())}function bt(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Cr\xe9\xe9e le"),l.Rb())}function dt(t,e){if(1&t&&(l.Sb(0,"td",20),l.Ac(1),l.ec(2,"date"),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(l.hc(2,1,t.createdate,"d MMMM y \xe0 HH:mm","","fr-FR"))}}function pt(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Quiz"),l.Rb())}const mt=function(t){return["/creator/session/dashboard/",t]};function ht(t,e){if(1&t&&(l.Sb(0,"td",20),l.Sb(1,"a",21),l.Ac(2),l.Rb(),l.Sb(3,"mat-icon",22),l.Ac(4,"info"),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("routerLink",l.mc(2,mt,null==t?null:t._id)),l.Bb(1),l.Cc(" ",null==t||null==t.idquiz?null:t.idquiz.title," ")}}function ft(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Anonyme"),l.Rb())}function gt(t,e){if(1&t&&(l.Sb(0,"td",20),l.Nb(1,"mat-checkbox",23),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("checked",null==t?null:t.isAnonymous)}}function St(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Code"),l.Rb())}function vt(t,e){if(1&t&&(l.Sb(0,"td",20),l.Sb(1,"span",24),l.Ac(2),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.Bb(2),l.Bc(null==t?null:t.quizsessioncode)}}function xt(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Groupe"),l.Rb())}function Rt(t,e){if(1&t&&(l.Sb(0,"td",20),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(null==t.group?null:t.group.label)}}function Ct(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Actions"),l.Rb())}function wt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",27),l.Zb("click",(function(){l.rc(t);const e=l.dc(2).$implicit;return l.dc().start(null==e?null:e._id)})),l.Sb(1,"mat-icon",28),l.Ac(2,"play_circle_outline"),l.Rb(),l.Rb()}}function yt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",27),l.Zb("click",(function(){l.rc(t);const e=l.dc(2).$implicit;return l.dc().close(null==e?null:e._id)})),l.Sb(1,"mat-icon",29),l.Ac(2,"stop"),l.Rb(),l.Rb()}}function kt(t,e){if(1&t&&(l.Sb(0,"div"),l.zc(1,wt,3,0,"button",26),l.zc(2,yt,3,0,"button",26),l.Rb()),2&t){const t=l.dc().$implicit;l.Bb(1),l.kc("ngIf",!(null!=t&&t.isopen)),l.Bb(1),l.kc("ngIf",null==t?null:t.isopen)}}function qt(t,e){1&t&&(l.Sb(0,"div"),l.Sb(1,"mat-icon",30),l.Ac(2,"checked"),l.Rb(),l.Rb())}function zt(t,e){if(1&t&&(l.Sb(0,"td",20),l.zc(1,kt,3,2,"div",25),l.zc(2,qt,3,0,"div",25),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("ngIf",!(null!=t&&t.startdate)||(null==t?null:t.isopen)),l.Bb(1),l.kc("ngIf",(null==t?null:t.startdate)&&!(null!=t&&t.isopen))}}function Bt(t,e){1&t&&l.Nb(0,"tr",31)}function At(t,e){1&t&&l.Nb(0,"tr",32)}const Mt=function(){return[10,20,50,100]};let Ot=(()=>{class t{constructor(t,e,n){this.sessionService=t,this.authService=e,this.snackbar=n,this.displayedColumns=["createdate","title","isAnonymous","quizsessioncode","group","actions"],this.creatorSubscription=this.authService.currentUser.subscribe(t=>this.currentCreator=t)}ngOnInit(){this.dataSource=new tt(this.sessionService),this.dataSource.loadSessions(this.currentCreator._id,0,10,"createdate","desc","")}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(et.a)(this.input.nativeElement,"keyup").pipe(Object(it.a)(500),Object(ot.a)(),Object(st.a)(()=>{this.paginator.pageIndex=0,this.loadSessionsPage()})).subscribe(),Object(nt.a)(this.sort.sortChange,this.paginator.page).pipe(Object(st.a)(()=>{this.loadSessionsPage()})).subscribe()}loadSessionsPage(){this.dataSource.loadSessions(this.currentCreator._id,this.paginator.pageIndex,this.paginator.pageSize,this.sort.active,this.sort.direction,this.input.nativeElement.value)}start(t){this.sessionSubscription=this.sessionService.startSession(t).subscribe({next:t=>{this.snackbar.open(t.message,"X",{duration:4e3}),this.loadSessionsPage()},error:t=>{this.snackbar.open(t.message,"X")},complete:console.log})}close(t){this.sessionSubscription=this.sessionService.closeSession(t).subscribe({next:t=>{this.snackbar.open(t.message,"X",{duration:4e3}),this.loadSessionsPage()},error:t=>{this.snackbar.open(t.message,"X")},complete:console.log})}show(t){console.log(t)}gotoSessionDashboard(t){console.log(t)}ngOnDestroy(){this.creatorSubscription&&this.creatorSubscription.unsubscribe(),this.sessionSubscription&&this.sessionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(R),l.Mb(Q.a),l.Mb(O.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-session-list"]],viewQuery:function(t,e){var n;1&t&&(l.vc(a.a,!0),l.vc(u.a,!0),l.vc(ut,!0)),2&t&&(l.oc(n=l.ac())&&(e.paginator=n.first),l.oc(n=l.ac())&&(e.sort=n.first),l.oc(n=l.ac())&&(e.input=n.first))},decls:33,vars:12,consts:[[1,"flex","flex-col","mx-auto","px-3","py-3"],["matInput","","placeholder","Chercher sessions"],["input",""],["class","spinner-container",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","createdate","matSortDirection","desc","matSortDisableClear","","aria-label","Sessions",3,"dataSource"],["matColumnDef","createdate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","isAnonymous"],["matColumnDef","quizsessioncode"],["matColumnDef","group"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],[1,"spinner-container"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink"],["color","primary","matTooltip","`${row?.theme}`"],["matInput","","color","primary","disabled","",3,"checked"],[1,"font-mono","text-blue-800","text-xl","font-bold"],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],[1,"icon-button","text-green-700"],[1,"icon-button","text-red-700"],[1,"text-gray-700"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"h2"),l.Ac(2,"Liste des Sessions"),l.Rb(),l.Sb(3,"mat-form-field"),l.Nb(4,"input",1,2),l.Rb(),l.zc(6,lt,2,0,"div",3),l.ec(7,"async"),l.Sb(8,"div",4),l.Sb(9,"table",5),l.Qb(10,6),l.zc(11,bt,2,0,"th",7),l.zc(12,dt,3,6,"td",8),l.Pb(),l.Qb(13,9),l.zc(14,pt,2,0,"th",7),l.zc(15,ht,5,4,"td",8),l.Pb(),l.Qb(16,10),l.zc(17,ft,2,0,"th",7),l.zc(18,gt,2,1,"td",8),l.Pb(),l.Qb(19,11),l.zc(20,St,2,0,"th",7),l.zc(21,vt,3,1,"td",8),l.Pb(),l.Qb(22,12),l.zc(23,xt,2,0,"th",7),l.zc(24,Rt,2,1,"td",8),l.Pb(),l.Qb(25,13),l.zc(26,Ct,2,0,"th",7),l.zc(27,zt,3,2,"td",8),l.Pb(),l.zc(28,Bt,1,0,"tr",14),l.zc(29,At,1,0,"tr",15),l.Rb(),l.Nb(30,"mat-paginator",16,17),l.ec(32,"async"),l.Rb(),l.Rb()),2&t&&(l.Bb(6),l.kc("ngIf",l.fc(7,7,e.dataSource.loading$)),l.Bb(3),l.kc("dataSource",e.dataSource),l.Bb(19),l.kc("matHeaderRowDef",e.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",e.displayedColumns),l.Bb(1),l.kc("length",l.fc(32,9,e.dataSource.totalCount$))("pageSize",10)("pageSizeOptions",l.lc(11,Mt)))},directives:[L.c,P.b,i.m,c.j,u.a,c.c,c.e,c.b,c.g,c.i,a.a,rt.b,c.d,u.b,c.a,d.e,k.a,ct.a,at.a,$.b,c.f,c.h],pipes:[i.b,i.e],styles:[".full-width-table[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{border-bottom:none;border-top:none}.mat-column-opendate[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}.mat-column-title[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}.mat-column-isAnonymous[_ngcontent-%COMP%]{flex:2rem;min-width:2rem}.mat-column-actions[_ngcontent-%COMP%], .mat-column-group[_ngcontent-%COMP%]{flex:3rem;min-width:3rem}th[_ngcontent-%COMP%]{border-bottom:transparent;font-size:1rem}td[_ngcontent-%COMP%]{border:transparent;padding:5px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#8a2be2}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.zone[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]:hover{cursor:pointer}.zone[_ngcontent-%COMP%]:hover{background-color:#9932cc;color:#fff}"]}),t})();function Qt(t,e){if(1&t&&(l.Sb(0,"mat-option",17),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.kc("value",t),l.Bb(1),l.Cc(" ",t," ")}}function It(t,e){if(1&t&&(l.Sb(0,"mat-option",17),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.kc("value",null==t?null:t.id),l.Bb(1),l.Cc(" ",t.label," ")}}function _t(t,e){if(1&t&&(l.Sb(0,"div"),l.Sb(1,"mat-label"),l.Ac(2,"Group"),l.Rb(),l.Sb(3,"mat-select",18),l.zc(4,It,2,2,"mat-option",13),l.Rb(),l.Rb()),2&t){const t=l.dc();l.Bb(4),l.kc("ngForOf",t.groups)}}let Lt=(()=>{class t{constructor(t,e,n,i,o,s,r){var c,a;this.route=t,this.fb=e,this.groupService=n,this.authService=i,this.sessionService=o,this.snackBar=s,this.router=r,this.evaluationTypes=["Evaluation des pr\xe9requis","Evaluation Formative","Evaluation Sammative"],this.userSubscription=this.authService.currentUser.subscribe(t=>this.creator=t),this.concernedQuiz=null===(a=null===(c=this.route.snapshot.data)||void 0===c?void 0:c.quiz)||void 0===a?void 0:a.payload}ngOnInit(){const t=[];this.groupSubscription=this.groupService.getGroupsByCreator(this.creator._id).pipe(Object(x.a)(t=>t.payload),Object(x.a)(e=>(e.forEach(e=>{t.push({id:e._id,label:e.label})}),t))).subscribe({next:t=>{console.log(t),this.groups=t}}),this.openSessionForm=this.fb.group({evaluationType:[""],isAnonymous:!0,group:[""]})}onSubmit(){let t;t=Object.assign({},this.openSessionForm.value),""===this.openSessionForm.value.group&&(this.openSessionForm.value.group=null),t.creator=this.creator._id,t.idquiz=this.concernedQuiz._id,this.sessionSubscription=this.sessionService.createSession(t).subscribe({next:t=>{"success"===t.status?(this.snackBar.open(t.status+"\n"+t.message,"X",{duration:6e3}),this.router.navigate(["/creator/session/list"])):this.snackBar.open(t.status+"\n"+t.message,"X")},error:t=>{this.snackBar.open(t,"close")},complete:console.log})}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe(),this.groupSubscription&&this.groupSubscription.unsubscribe(),this.sessionSubscription&&this.sessionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(d.a),l.Mb(s.e),l.Mb(S),l.Mb(Q.a),l.Mb(R),l.Mb(O.a),l.Mb(d.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-session-form"]],decls:35,vars:22,consts:[[1,"flex","flex-col","justify-center","items-center"],[1,"text-blue-700"],[1,"flex","flex-col","text-green-500","justify-center","items-center"],[1,"text-gray-800"],["alt","cover",1,"w-1/6",3,"src"],[1,"text-gray-500"],[1,"text-blue-800"],["matInput","","color","primary","disabled","",3,"checked"],[1,"shadow-lg","sm:flex","w-1/2"],[1,"sm:w-full","bg-white"],[1,"p-8"],[3,"formGroup"],["formControlName","evaluationType","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","isAnonymous","color","accent"],[4,"ngIf"],["mat-stroked-button","",1,"shadow-lg","pt-3","pb-3","w-full","text-white","bg-indigo-500","hover:bg-indigo-400","rounded-full","cursor-pointer",3,"disabled","click"],[3,"value"],["formControlName","group"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"h2",1),l.Ac(2,"Ouvrir Session pour le quiz:"),l.Rb(),l.Sb(3,"div",2),l.Sb(4,"h1",3),l.Ac(5),l.Rb(),l.Nb(6,"img",4),l.Sb(7,"h2",5),l.Ac(8),l.Rb(),l.Sb(9,"p",6),l.Ac(10),l.Rb(),l.Sb(11,"p",6),l.Ac(12,"Partag\xe9 : "),l.Nb(13,"mat-checkbox",7),l.Rb(),l.Sb(14,"h4",6),l.Ac(15),l.ec(16,"date"),l.Rb(),l.Sb(17,"h4",6),l.Ac(18),l.ec(19,"date"),l.Rb(),l.Rb(),l.Sb(20,"div",8),l.Sb(21,"div",9),l.Sb(22,"div",10),l.Sb(23,"form",11),l.Sb(24,"mat-label"),l.Ac(25,"Type d'\xe9valuation"),l.Rb(),l.Sb(26,"mat-select",12),l.zc(27,Qt,2,2,"mat-option",13),l.Rb(),l.Sb(28,"mat-checkbox",14),l.Ac(29,"Anonyme"),l.Rb(),l.Nb(30,"br"),l.zc(31,_t,5,1,"div",15),l.Nb(32,"br"),l.Sb(33,"button",16),l.Zb("click",(function(){return e.onSubmit()})),l.Ac(34," Cr\xe9er Une Session "),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(5),l.Dc(" ",e.concernedQuiz.title," - ",null==e.concernedQuiz||null==e.concernedQuiz.questions?null:e.concernedQuiz.questions.length," question(s) "),l.Bb(1),l.kc("src",e.concernedQuiz.cover,l.sc),l.Bb(2),l.Cc(" ",e.concernedQuiz.description," "),l.Bb(2),l.Cc("Theme : ",e.concernedQuiz.theme,""),l.Bb(3),l.kc("checked",null==e.concernedQuiz?null:e.concernedQuiz.isShared),l.Bb(2),l.Cc("Date Creation : ",l.hc(16,12,null==e.concernedQuiz?null:e.concernedQuiz.dateCreated,"d MMMM y","","fr-FR"),""),l.Bb(3),l.Cc("Date de Modification Creation : ",l.hc(19,17,null==e.concernedQuiz?null:e.concernedQuiz.updatedAt,"d MMMM y","","fr-FR"),""),l.Bb(5),l.kc("formGroup",e.openSessionForm),l.Bb(4),l.kc("ngForOf",e.evaluationTypes),l.Bb(4),l.kc("ngIf",!e.openSessionForm.value.isAnonymous),l.Bb(2),l.kc("disabled",!e.openSessionForm.valid||!e.openSessionForm.value.isAnonymous&&0===(null==e.openSessionForm.value.group?null:e.openSessionForm.value.group.length)))},directives:[at.a,s.t,s.n,s.g,L.g,F.a,s.m,s.f,s.r,i.l,i.m,$.b,N.m],pipes:[i.e],styles:[""]}),t})(),Pt=(()=>{class t{constructor(t){this.httpClient=t}postQuiz(t){return this.httpClient.post(g.a.apiUrl+"/api/v1/quizzes/add",t)}deleteQuiz(t){return this.httpClient.delete(`${g.a.apiUrl}/api/v1/quizzes/delete/${t}`)}duplicateQuiz(t){return this.httpClient.post(`${g.a.apiUrl}/api/v1/quizzes/duplicate/${t}`,{})}updateQuiz(t,e){let n=Object.assign({},e);return this.httpClient.put(`${g.a.apiUrl}/api/v1/quizzes/update/${t}`,n)}getQuizById(t){return this.httpClient.get(`${g.a.apiUrl}/api/v1/quizzes/${t}`)}getAllQuizzes(){return this.httpClient.get(g.a.apiUrl+"/api/v1/quizzes")}getSharedQuizzes(){return this.httpClient.get(g.a.apiUrl+"/api/v1/quizzes/shared")}getQuizzesByCreator(t){return this.httpClient.get(`${g.a.apiUrl}/api/v1/quizzes/creator/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$t=(()=>{class t{constructor(t){this.quizService=t}resolve(t,e){return this.quizService.getQuizById(t.paramMap.get("id"))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(Pt))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ft=(()=>{class t{constructor(){}ngOnInit(){}getAvatar(t){return t?`${g.a.apiUrl}/${t}`:"assets/default-avatar.jpg"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-user-badge"]],inputs:{userInfo:"userInfo"},decls:4,vars:2,consts:[[1,"flex","flex-row","py-3","mx-auto"],["alt","avatar",1,"self-center","w-6","rounded-full","shadow-lg","h-6",3,"src"],[1,"w-full","font-mono","text-sm","text-center","text-gray-800","font-haireline"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Nb(1,"img",1),l.Sb(2,"span",2),l.Ac(3),l.Rb(),l.Rb()),2&t&&(l.Bb(1),l.kc("src",e.getAvatar(null==e.userInfo?null:e.userInfo.avatar_url),l.sc),l.Bb(2),l.Bc(null==e.userInfo?null:e.userInfo.fullusername))},styles:[""]}),t})();const Nt=function(){return["home"]},Dt=function(){return["quiz"]},Gt=function(){return["about"]},Tt=function(){return["support"]},jt=function(){return["/home/contact"]};let Ut=(()=>{class t{constructor(t,e){this.authenticationService=t,this.router=e}ngOnInit(){this.subscription=this.authenticationService.currentUser.subscribe({next:t=>{this.user=Object.assign({},t)},error:t=>console.log(t),complete:()=>console.log("Ok")})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}logout(){this.authenticationService.logout(),this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(Q.a),l.Mb(d.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-navbar"]],decls:36,vars:11,consts:[["id","header",1,"top-0","z-30","w-full","py-1"],[1,"container","flex","flex-wrap","items-center","justify-between","w-full","px-6","py-3","mx-auto","mt-0"],["for","menu-toggle",1,"block","cursor-pointer","md:hidden"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20",1,"text-gray-900","fill-current"],["d","M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"],["type","checkbox","id","menu-toggle",1,"hidden"],["id","menu",1,"order-3","hidden","w-full","md:flex","md:items-center","md:w-auto","md:order-2"],[1,"items-center","justify-between","pt-4","text-base","text-gray-700","md:flex","md:pt-0"],["routerLinkActive","router-link-active",1,"inline-block","px-4","py-2","no-underline","rounded-md","hover:text-black","hover:underline","hover:bg-gray-200",3,"routerLink"],[1,"flex","flex-col","items-center"],[3,"userInfo"],["mat-stroked-button","","color","warn",1,"w-full","justify-end",3,"click"],[1,"order-1","md:order-1"],["href","creator",1,"flex","items-center","text-xl","font-bold","tracking-wide","text-gray-800","no-underline","hover:no-underline"],["src","assets/logo.png",1,"h-12","p-2"],[1,"text-lg","text-opacity-75"]],template:function(t,e){1&t&&(l.Sb(0,"nav",0),l.Sb(1,"div",1),l.Sb(2,"label",2),l.cc(),l.Sb(3,"svg",3),l.Sb(4,"title"),l.Ac(5,"menu"),l.Rb(),l.Nb(6,"path",4),l.Rb(),l.Rb(),l.bc(),l.Nb(7,"input",5),l.Sb(8,"div",6),l.Sb(9,"nav"),l.Sb(10,"ul",7),l.Sb(11,"li"),l.Sb(12,"a",8),l.Ac(13," Home "),l.Rb(),l.Rb(),l.Sb(14,"li"),l.Sb(15,"a",8),l.Ac(16," Mes Quiz "),l.Rb(),l.Rb(),l.Sb(17,"li"),l.Sb(18,"a",8),l.Ac(19," About Us "),l.Rb(),l.Rb(),l.Sb(20,"li"),l.Sb(21,"a",8),l.Ac(22," Support "),l.Rb(),l.Rb(),l.Sb(23,"li"),l.Sb(24,"a",8),l.Ac(25," Contact "),l.Rb(),l.Rb(),l.Sb(26,"li"),l.Sb(27,"div",9),l.Nb(28,"app-user-badge",10),l.Sb(29,"button",11),l.Zb("click",(function(){return e.logout()})),l.Ac(30,"Se d\xe9connecter"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(31,"div",12),l.Sb(32,"a",13),l.Nb(33,"img",14),l.Sb(34,"span",15),l.Ac(35,"Espace Cr\xe9ateur"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(12),l.kc("routerLink",l.lc(6,Nt)),l.Bb(3),l.kc("routerLink",l.lc(7,Dt)),l.Bb(3),l.kc("routerLink",l.lc(8,Gt)),l.Bb(3),l.kc("routerLink",l.lc(9,Tt)),l.Bb(3),l.kc("routerLink",l.lc(10,jt)),l.Bb(4),l.kc("userInfo",e.user))},directives:[d.e,d.d,Ft,$.b],styles:[".worksans[_ngcontent-%COMP%]{font-family:Work Sans,sans-serif}#menu-toggle[_ngcontent-%COMP%]:checked + #menu[_ngcontent-%COMP%]{display:block}.hover\\[_ngcontent-%COMP%]:grow{transition:all .3s;transform:scale(1)}.hover\\[_ngcontent-%COMP%]:grow:hover{transform:scale(1.02)}"]}),t})();var Zt=n("XhcP");const Ht=function(){return["/creator/shared"]},Xt=function(){return["/creator/group"]},Et=function(){return["/creator/student"]},Vt=function(){return["/creator/session/list"]},Jt=function(){return["/back/customer"]};let Wt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-side-bar"]],decls:37,vars:10,consts:[["color","primary"],[3,"routerLink"],["mat-line",""]],template:function(t,e){1&t&&(l.Sb(0,"mat-nav-list"),l.Sb(1,"mat-list"),l.Sb(2,"mat-list-item"),l.Sb(3,"mat-icon",0),l.Ac(4,"settings"),l.Rb(),l.Sb(5,"a",1),l.Sb(6,"h4",2),l.Ac(7,"Shared Quizzes"),l.Rb(),l.Rb(),l.Nb(8,"h4",2),l.Rb(),l.Sb(9,"mat-list-item"),l.Sb(10,"mat-icon",0),l.Ac(11,"supervisor_account"),l.Rb(),l.Sb(12,"a",1),l.Sb(13,"h4",2),l.Ac(14,"Mes Groupes"),l.Rb(),l.Rb(),l.Nb(15,"h4",2),l.Rb(),l.Sb(16,"mat-list-item"),l.Sb(17,"mat-icon",0),l.Ac(18,"person"),l.Rb(),l.Sb(19,"a",1),l.Sb(20,"h4",2),l.Ac(21,"Mes Apprenants"),l.Rb(),l.Rb(),l.Nb(22,"h4",2),l.Rb(),l.Sb(23,"mat-list-item"),l.Sb(24,"mat-icon",0),l.Ac(25,"play_circle_outline"),l.Rb(),l.Sb(26,"a",1),l.Sb(27,"h4",2),l.Ac(28,"Mes Sessions"),l.Rb(),l.Rb(),l.Nb(29,"h4",2),l.Rb(),l.Sb(30,"mat-list-item"),l.Sb(31,"mat-icon",0),l.Ac(32,"person"),l.Rb(),l.Sb(33,"a",1),l.Sb(34,"h4",2),l.Ac(35,"Customers"),l.Rb(),l.Rb(),l.Nb(36,"h4",2),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(5),l.kc("routerLink",l.lc(5,Ht)),l.Bb(7),l.kc("routerLink",l.lc(6,Xt)),l.Bb(7),l.kc("routerLink",l.lc(7,Et)),l.Bb(7),l.kc("routerLink",l.lc(8,Vt)),l.Bb(7),l.kc("routerLink",l.lc(9,Jt)))},directives:[y.f,y.a,y.c,k.a,d.e,N.k],styles:[""]}),t})(),Kt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"flex","w-full","justify-end","align-center","py-6","-px3"],[1,"px-3","italic"]],template:function(t,e){1&t&&(l.Sb(0,"footer",0),l.Sb(1,"p",1),l.Ac(2,"S2H Quiz Creator"),l.Rb(),l.Rb())},styles:[""]}),t})(),Yt=(()=>{class t{constructor(){this.isOpened=!1}ngOnInit(){}toggle(){this.isOpened=!this.isOpened}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-creator-land-page"]],decls:11,vars:0,consts:[[1,""],["mode","side",3,"closed","opened"],["adminsidenav",""],["color","accent",3,"click"]],template:function(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",0),l.Nb(1,"app-navbar"),l.Sb(2,"mat-sidenav-container"),l.Sb(3,"mat-sidenav",1,2),l.Zb("closed",(function(){return e.toggle()}))("opened",(function(){return e.toggle()})),l.Nb(5,"app-side-bar"),l.Rb(),l.Sb(6,"mat-sidenav-content"),l.Sb(7,"mat-icon",3),l.Zb("click",(function(){return l.rc(t),l.pc(4).toggle()})),l.Ac(8,"menu"),l.Rb(),l.Nb(9,"router-outlet"),l.Rb(),l.Rb(),l.Nb(10,"app-footer"),l.Rb()}},directives:[Ut,Zt.b,Zt.a,Wt,Zt.c,k.a,d.g,Kt],styles:["mat-sidenav-container[_ngcontent-%COMP%]{height:100%}mat-sidenav[_ngcontent-%COMP%], mat-sidenav-content[_ngcontent-%COMP%]{padding:1rm;height:87vh;max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content;min-height:-webkit-min-content;min-height:min-content}mat-sidenav[_ngcontent-%COMP%]{width:250px}mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),te=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-home-page"]],decls:3,vars:0,template:function(t,e){1&t&&(l.Sb(0,"h1"),l.Ac(1,"Page d'accueil du cr\xe9ateur"),l.Rb(),l.Ac(2," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sed dolorem, reiciendis temporibus officiis voluptas ratione quae sapiente illum eaque delectus expedita rerum recusandae totam, dolores, impedit excepturi. Rerum, molestiae in!"))},styles:[""]}),t})();var ee=n("s3dw");function ne(t,e){if(1&t&&(l.Sb(0,"mat-option",8),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.kc("value",t),l.Bb(1),l.Cc(" ",t," ")}}let ie=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.qtypes=["QCM","QCU","INPUT","ORDERING"]}onNoClick(){this.dialogRef.close()}ngOnInit(){}confirm(){this.dialogRef.close(this.question_type)}cancel(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(T.g),l.Mb(T.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-choix-type-question"]],decls:16,vars:2,consts:[["mat-dialog-title","",1,"flex","text-center"],["appearance","fill"],["name","question_type",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","py-5"],[1,"flex","items-center"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","mat-dialog-close","","color","warn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1,"Veillez Choisir le type de votre question"),l.Rb(),l.Nb(2,"hr"),l.Sb(3,"mat-dialog-content"),l.Sb(4,"mat-form-field",1),l.Sb(5,"mat-label"),l.Ac(6,"Type de Question"),l.Rb(),l.Sb(7,"mat-select",2),l.Zb("ngModelChange",(function(t){return e.question_type=t})),l.zc(8,ne,2,2,"mat-option",3),l.Rb(),l.Rb(),l.Rb(),l.Sb(9,"mat-dialog-actions",4),l.Sb(10,"div",5),l.Sb(11,"button",6),l.Zb("click",(function(){return e.confirm()})),l.Ac(12," Yes "),l.Rb(),l.Rb(),l.Sb(13,"div",5),l.Sb(14,"button",7),l.Zb("click",(function(){return e.cancel()})),l.Ac(15," No "),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(7),l.kc("ngModel",e.question_type),l.Bb(1),l.kc("ngForOf",e.qtypes))},directives:[T.h,T.e,L.c,L.g,F.a,s.m,s.p,i.l,T.c,$.b,T.d,N.m],styles:[""]}),t})(),oe=(()=>{class t{constructor(t){this.http=t,this.questionList=[],this.currentQuestionList$=new I.a(this.questionList)}postQuestion(t){return this.http.post(g.a.apiUrl+"/api/v1/questions/add",t)}deleteQuestionFromAPI(t){return this.http.delete(`${g.a.apiUrl}/api/v1/questions/delete/${t}`)}updateQuestionInAPI(t,e){return this.http.put(`${g.a.apiUrl}/api/v1/questions/update/${t}`,e)}getQuestionsByQuiz(t){return this.http.get(`${g.a.apiUrl}/api/v1/questions/shared/${t}`)}loadQuestions(t){this.questionList=[...t],this.currentQuestionList$.next(this.questionList)}addQuestion(t){this.questionList.push(t),this.currentQuestionList$.next(this.questionList)}deleteQuestion(t){this.questionList=this.questionList.filter(e=>e._id!==t),this.currentQuestionList$.next(this.questionList)}updateQuestion(t){const e=this.questionList.findIndex(e=>e._id===t._id);console.log(e,"  ",t),this.questionList[e]=t,this.currentQuestionList$.next(this.questionList)}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),se=(()=>{class t{constructor(t){this.el=t}onMouseEnter(){this.highlight(this.defaultColor||this.highlightColor||"tomato","white")}onMouseLeave(){this.highlight(null,"black")}highlight(t,e){this.el.nativeElement.style.backgroundColor=t,this.el.nativeElement.style.color=e}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(l.l))},t.\u0275dir=l.Hb({type:t,selectors:[["","appHighlight",""]],hostBindings:function(t,e){1&t&&l.Zb("mouseenter",(function(){return e.onMouseEnter()}))("mouseleave",(function(){return e.onMouseLeave()}))},inputs:{defaultColor:"defaultColor",highlightColor:["appHighlight","highlightColor"]}}),t})(),re=(()=>{class t{transform(t,e){return""!==e?t.filter(t=>-1!==t.questionText.toLowerCase().indexOf(e.toLowerCase())||-1!==t.question_type.toLowerCase().indexOf(e.toLowerCase())):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Lb({name:"questionListFilter",type:t,pure:!0}),t})();function ce(t,e){if(1&t){const t=l.Tb();l.Sb(0,"li",10),l.Sb(1,"span"),l.Ac(2),l.Rb(),l.Sb(3,"span",11),l.Sb(4,"span",12),l.Ac(5),l.Rb(),l.Sb(6,"button",13),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().deleteQuestion(n._id)})),l.Sb(7,"mat-icon",14),l.Ac(8,"delete"),l.Rb(),l.Rb(),l.Sb(9,"button",13),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().updateQuestion(n)})),l.Sb(10,"mat-icon",15),l.Ac(11,"edit"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=e.index;l.kc("highlightColor","green"),l.Bb(2),l.Dc(" ",n+1,"- ",t.questionText," "),l.Bb(3),l.Cc(" ",t.question_type,"")}}let ae=(()=>{class t{constructor(t,e,n){this.questionService=t,this.shnackBar=e,this.dialog=n,this.onQuestionUpdateCliqued=new l.o,this.searchText="",this.color="orange"}ngOnInit(){this.questions$=this.questionService.currentQuestionList$.asObservable()}deleteQuestion(t){this.dialog.open(j,{width:"450px",data:"Supprimer la Question?"}).afterClosed().subscribe(e=>{e&&this.questionService.deleteQuestionFromAPI(t).subscribe({next:e=>{this.shnackBar.open(e.message,"X",{duration:3e3}),"success"===e.status&&this.questionService.deleteQuestion(t)},error:t=>{this.shnackBar.open(t.message,"X")},complete:console.log})})}updateQuestion(t){this.onQuestionUpdateCliqued.next(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(oe),l.Mb(O.a),l.Mb(T.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-question-list"]],outputs:{onQuestionUpdateCliqued:"onQuestionUpdateCliqued"},decls:15,vars:10,consts:[[1,"w-full"],[1,"text-center"],[1,"text-blue-800"],[1,"flex","flex-row","content-end","block","inline-block","p-3","mx-auto","my-2","mr-6"],["type","search","placeholder","Filter...",1,"p-3","border-0","rounded","shadow","bg-purple-white",3,"ngModel","ngModelChange"],[1,"mt-3","mr-4","pin-r","pin-t","text-purple-lighter"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 52.966 52.966",0,"xml","space","preserve",1,"h-4","text-dark",2,"enable-background","new 0 0 52.966 52.966"],["d","M51.704,51.273L36.845,35.82c3.79-3.801,6.138-9.041,6.138-14.82c0-11.58-9.42-21-21-21s-21,9.42-21,21s9.42,21,21,21\n      c5.083,0,9.748-1.817,13.384-4.832l14.895,15.491c0.196,0.205,0.458,0.307,0.721,0.307c0.25,0,0.499-0.093,0.693-0.279\n      C52.074,52.304,52.086,51.671,51.704,51.273z M21.983,40c-10.477,0-19-8.523-19-19s8.523-19,19-19s19,8.523,19,19\n      S32.459,40,21.983,40z"],[1,"w-full","px-4","mx-2","flex","flex-col","overflow-y-scroll","h-48"],["appHighlight","","class","text-gray-800 justify-between flex  w-full",3,"highlightColor",4,"ngFor","ngForOf"],["appHighlight","",1,"text-gray-800","justify-between","flex","w-full",3,"highlightColor"],[1,"align-middle"],[1,"text-red-700","inline-block","align-middle"],["mat-button","",3,"click"],["color","warn",1,"icon-button"],["color","primary",1,"icon-button"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"h1",1),l.Ac(2,"Liste des Questions "),l.Sb(3,"span",2),l.Ac(4),l.ec(5,"async"),l.Rb(),l.Rb(),l.Sb(6,"div",3),l.Sb(7,"input",4),l.Zb("ngModelChange",(function(t){return e.searchText=t})),l.Rb(),l.Sb(8,"div",5),l.cc(),l.Sb(9,"svg",6),l.Nb(10,"path",7),l.Rb(),l.Rb(),l.Rb(),l.bc(),l.Sb(11,"ol",8),l.zc(12,ce,12,4,"li",9),l.ec(13,"questionListFilter"),l.ec(14,"async"),l.Rb(),l.Rb()),2&t&&(l.Bb(4),l.Cc("(",l.fc(5,3,e.questions$).length,")"),l.Bb(3),l.kc("ngModel",e.searchText),l.Bb(5),l.kc("ngForOf",l.gc(13,5,l.fc(14,8,e.questions$),e.searchText)))},directives:[s.c,s.m,s.p,i.l,se,$.b,k.a],pipes:[i.b,re],styles:[""]}),t})();var ue=n("QibW");function le(t,e){if(1&t){const t=l.Tb();l.Sb(0,"li"),l.Sb(1,"div",7),l.Sb(2,"div",8),l.Sb(3,"mat-radio-button",9),l.Zb("change",(function(){l.rc(t);const n=e.index;return l.dc().radioChecked(n)})),l.Rb(),l.Rb(),l.Sb(4,"div",10),l.Sb(5,"mat-form-field",1),l.Sb(6,"input",11),l.Zb("ngModelChange",(function(n){l.rc(t);const i=e.index;return l.dc().qcuResponseList[i].label=n})),l.Rb(),l.Rb(),l.Rb(),l.Sb(7,"div",12),l.Sb(8,"mat-icon",13),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().deleteResponse(n)})),l.Ac(9,"delete"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=e.index,i=l.dc();l.Bb(3),l.kc("checked",t.isValid),l.Bb(3),l.kc("ngModel",i.qcuResponseList[n].label)}}function be(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",14),l.Zb("click",(function(){return l.rc(t),l.dc().saveQuestion()})),l.Ac(1,"Enregistrer"),l.Rb()}if(2&t){const t=l.dc();l.kc("disabled",!t.oneChecked)}}let de=(()=>{class t{constructor(t,e,n){this.fb=t,this.questionService=e,this.snackBar=n,this.onQuestionSave=new l.o,this.qcuResponseList=[],this.oneChecked=!1,this.QCUQuestionForm=t.group({questionText:[""]})}ngOnInit(){"new"===this.context?(this.qcuResponseList.push({label:"",isValid:!1}),this.qcuResponseList.push({label:"",isValid:!1})):"update"===this.context&&(this.QCUQuestionForm=this.fb.group({questionText:[this.question.questionText]}),this.qcuResponseList=[...this.question.qcxResponse])}ngOnChanges(){"update"===this.context&&(this.QCUQuestionForm=this.fb.group({questionText:[this.question.questionText]}),this.qcuResponseList=[...this.question.qcxResponse],this.oneChecked=!0)}addResponse(){this.qcuResponseList.push({label:"",isValid:!1})}deleteResponse(t){this.qcuResponseList=this.qcuResponseList.filter(e=>e!==t)}radioChecked(t){for(var e=0;e<this.qcuResponseList.length;e++)this.qcuResponseList[e].isValid=e===t;this.oneChecked=!0}createQuestion(){this.questionService.postQuestion({quizId:this.quizId,questionText:this.QCUQuestionForm.value.questionText,question_type:"QCU",qcxResponse:this.qcuResponseList}).subscribe({next:t=>{this.snackBar.open(t.message,"x",{duration:3e3}),this.questionService.addQuestion(t.payload),this.onQuestionSave.emit("Ok")},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}updateQuestion(){let t={_id:this.question._id,quizId:this.quizId,questionText:this.QCUQuestionForm.value.questionText,question_type:"QCU",qcxResponse:this.qcuResponseList};this.questionService.updateQuestionInAPI(this.question._id,t).subscribe({next:e=>{this.snackBar.open(e.message,"x",{duration:3e3}),this.questionService.updateQuestion(t),this.onQuestionSave.emit("Ok")},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}saveQuestion(){"new"===this.context?this.createQuestion():"update"===this.context&&this.updateQuestion()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(s.e),l.Mb(oe),l.Mb(O.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-qcu-question-form"]],inputs:{quizId:"quizId",context:"context",question:"question"},outputs:{onQuestionSave:"onQuestionSave"},features:[l.zb],decls:16,vars:3,consts:[[1,"w-1/2"],[1,"w-full"],[1,"w-full","p-5","m-5",3,"formGroup"],["type","text","placeholder","Texte de la question","formControlName","questionText","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],[4,"ngFor","ngForOf"],[3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"flex","w-full"],[1,"flex","m-2","align-center"],[3,"checked","change"],[1,"flex-grow","px-4","py-2","m-2"],["matInput","","type","text","placeholder","Texte de la R\xe9ponse","name","qcuResponseList[i].label",1,"w-full","bg-transparent","border-b","m-auto","block","border-gray-500","mb-6","text-gray-700","p-1",3,"ngModel","ngModelChange"],[1,"flex-none","text-center","px-4","py-2","m-2"],["color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(l.Sb(0,"mat-card"),l.Sb(1,"mat-card-header"),l.Sb(2,"mat-card-title"),l.Ac(3," QUESTION "),l.Rb(),l.Sb(4,"mat-card-subtitle",0),l.Ac(5," :) "),l.Rb(),l.Rb(),l.Sb(6,"mat-card-content",1),l.Sb(7,"form",2),l.Sb(8,"mat-form-field",1),l.Nb(9,"input",3),l.Rb(),l.Rb(),l.Sb(10,"ol"),l.zc(11,le,10,2,"li",4),l.Rb(),l.Sb(12,"mat-icon",5),l.Zb("click",(function(){return e.addResponse()})),l.Ac(13,"add"),l.Rb(),l.Rb(),l.Sb(14,"mat-dialog-actions"),l.zc(15,be,2,1,"button",6),l.Rb(),l.Rb()),2&t&&(l.Bb(7),l.kc("formGroup",e.QCUQuestionForm),l.Bb(4),l.kc("ngForOf",e.qcuResponseList),l.Bb(4),l.kc("ngIf",""!=e.QCUQuestionForm.value.questionText))},directives:[w.a,w.c,w.f,w.e,w.b,s.t,s.n,s.g,L.c,s.c,P.b,s.m,s.f,i.l,k.a,T.c,i.m,ue.a,s.p,$.b],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function pe(t,e){if(1&t){const t=l.Tb();l.Sb(0,"li"),l.Sb(1,"div",7),l.Sb(2,"div",8),l.Sb(3,"mat-checkbox",9),l.Zb("ngModelChange",(function(n){return l.rc(t),e.$implicit.isValid=n})),l.Rb(),l.Rb(),l.Sb(4,"div",10),l.Sb(5,"mat-form-field",1),l.Sb(6,"input",11),l.Zb("ngModelChange",(function(n){l.rc(t);const i=e.index;return l.dc().qcmResponseList[i].label=n})),l.Rb(),l.Rb(),l.Rb(),l.Sb(7,"div",12),l.Sb(8,"mat-icon",13),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().deleteResponse(n)})),l.Ac(9,"delete"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=e.index,i=l.dc();l.Bb(3),l.kc("ngModel",t.isValid),l.Bb(3),l.kc("ngModel",i.qcmResponseList[n].label)}}function me(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",14),l.Zb("click",(function(){return l.rc(t),l.dc().saveQuestion()})),l.Ac(1,"Enregistrer"),l.Rb()}}let he=(()=>{class t{constructor(t,e,n){this.fb=t,this.questionService=e,this.snackBar=n,this.onQuestionSave=new l.o,this.qcmResponseList=[],this.QCMQuestionForm=t.group({questionText:[""]})}ngOnInit(){console.log("from qcm-question-form context : ",this.context),"new"===this.context?(this.qcmResponseList.push({label:"",isValid:!1}),this.qcmResponseList.push({label:"",isValid:!1})):"update"===this.context&&(this.QCMQuestionForm=this.fb.group({questionText:[this.question.questionText]}),this.qcmResponseList=[...this.question.qcxResponse])}ngOnChanges(){"update"===this.context&&(this.QCMQuestionForm=this.fb.group({questionText:[this.question.questionText]}),this.qcmResponseList=[...this.question.qcxResponse])}addResponse(){this.qcmResponseList.push({label:"",isValid:!1})}deleteResponse(t){this.qcmResponseList=this.qcmResponseList.filter(e=>e!==t)}radioChecked(t){for(let e=0;e<this.qcmResponseList.length;e++)this.qcmResponseList[e].isValid=e===t}createQuestion(){this.questionService.postQuestion({quizId:this.quizId,questionText:this.QCMQuestionForm.value.questionText,question_type:"QCM",qcxResponse:this.qcmResponseList}).subscribe({next:t=>{this.snackBar.open(t.message,"x",{duration:3e3}),this.questionService.addQuestion(t.payload),this.onQuestionSave.emit("Ok")},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}updateQuestion(){const t={_id:this.question._id,quizId:this.quizId,questionText:this.QCMQuestionForm.value.questionText,question_type:"QCM",qcxResponse:this.qcmResponseList};this.questionService.updateQuestionInAPI(this.question._id,t).subscribe({next:e=>{this.snackBar.open(e.message,"x",{duration:3e3}),this.questionService.updateQuestion(t),this.onQuestionSave.emit("Ok")},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}saveQuestion(){"new"===this.context?this.createQuestion():"update"===this.context&&this.updateQuestion()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(s.e),l.Mb(oe),l.Mb(O.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-qcm-question-form"]],inputs:{quizId:"quizId",context:"context",question:"question"},outputs:{onQuestionSave:"onQuestionSave"},features:[l.zb],decls:22,vars:7,consts:[[1,"w-1/2"],[1,"w-full"],[1,"w-full","p-5","m-5",3,"formGroup"],["type","text","placeholder","Texte de la question","formControlName","questionText","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],[4,"ngFor","ngForOf"],[3,"click"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"flex","w-full"],[1,"flex","m-2","align-center"],[3,"ngModel","ngModelChange"],[1,"flex-grow","px-4","py-2","m-2"],["matInput","","type","text","placeholder","Texte de la R\xe9ponse","name","qcmResponseList[i].label",1,"w-full","bg-transparent","border-b","m-auto","block","border-gray-500","mb-6","text-gray-700","p-1",3,"ngModel","ngModelChange"],[1,"flex-none","text-center","px-4","py-2","m-2"],["color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(l.Sb(0,"mat-card"),l.Sb(1,"mat-card-header"),l.Sb(2,"mat-card-title"),l.Ac(3," QUESTION "),l.Rb(),l.Sb(4,"mat-card-subtitle",0),l.Ac(5," :) "),l.Rb(),l.Rb(),l.Sb(6,"mat-card-content",1),l.Sb(7,"form",2),l.Sb(8,"mat-form-field",1),l.Nb(9,"input",3),l.Rb(),l.Rb(),l.Sb(10,"ol"),l.zc(11,pe,10,2,"li",4),l.Rb(),l.Sb(12,"pre"),l.Ac(13,"    "),l.Sb(14,"code"),l.Ac(15),l.ec(16,"json"),l.Rb(),l.Ac(17,"\n"),l.Rb(),l.Sb(18,"mat-icon",5),l.Zb("click",(function(){return e.addResponse()})),l.Ac(19,"add"),l.Rb(),l.Rb(),l.Sb(20,"mat-dialog-actions"),l.zc(21,me,2,0,"button",6),l.Rb(),l.Rb()),2&t&&(l.Bb(7),l.kc("formGroup",e.QCMQuestionForm),l.Bb(4),l.kc("ngForOf",e.qcmResponseList),l.Bb(4),l.Dc("\n        ",e.context,"\n    ",l.fc(16,5,e.qcmResponseList),"\n"),l.Bb(6),l.kc("ngIf",""!=e.QCMQuestionForm.value.questionText))},directives:[w.a,w.c,w.f,w.e,w.b,s.t,s.n,s.g,L.c,s.c,P.b,s.m,s.f,i.l,k.a,T.c,i.m,at.a,s.p,$.b],pipes:[i.g],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),fe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-input-question-form"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"input-question-form works!"),l.Rb())},styles:[""]}),t})(),ge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-ordering-question-form"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"ordering-question-form works!"),l.Rb())},styles:[""]}),t})();function Se(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-qcu-question-form",3),l.Zb("onQuestionSave",(function(){return l.rc(t),l.dc().questionSaved()})),l.Rb()}if(2&t){const t=l.dc();l.kc("quizId",t.quizId)("context",t.context)("question",t.question)}}function ve(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-qcm-question-form",3),l.Zb("onQuestionSave",(function(){return l.rc(t),l.dc().questionSaved()})),l.Rb()}if(2&t){const t=l.dc();l.kc("quizId",t.quizId)("context",t.context)("question",t.question)}}function xe(t,e){if(1&t&&l.Nb(0,"app-input-question-form",4),2&t){const t=l.dc();l.kc("quizId",t.quizId)}}function Re(t,e){if(1&t&&l.Nb(0,"app-ordering-question-form",4),2&t){const t=l.dc();l.kc("quizId",t.quizId)}}let Ce=(()=>{class t{constructor(){this.onQuestionSave=new l.o}ngOnInit(){}questionSaved(){this.onQuestionSave.next("Ok")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-question-form"]],inputs:{question_type:"question_type",quizId:"quizId",context:"context",question:"question"},outputs:{onQuestionSave:"onQuestionSave"},decls:5,vars:5,consts:[[3,"ngSwitch"],[3,"quizId","context","question","onQuestionSave",4,"ngSwitchCase"],[3,"quizId",4,"ngSwitchCase"],[3,"quizId","context","question","onQuestionSave"],[3,"quizId"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.zc(1,Se,1,3,"app-qcu-question-form",1),l.zc(2,ve,1,3,"app-qcm-question-form",1),l.zc(3,xe,1,1,"app-input-question-form",2),l.zc(4,Re,1,1,"app-ordering-question-form",2),l.Rb()),2&t&&(l.kc("ngSwitch",e.question_type),l.Bb(1),l.kc("ngSwitchCase","QCU"),l.Bb(1),l.kc("ngSwitchCase","QCM"),l.Bb(1),l.kc("ngSwitchCase","INPUT"),l.Bb(1),l.kc("ngSwitchCase","ORDERING"))},directives:[i.o,i.p,de,he,fe,ge],styles:[""]}),t})();function we(t,e){1&t&&(l.Sb(0,"span"),l.Ac(1,"Cr\xe9er le quiz"),l.Rb())}function ye(t,e){1&t&&(l.Sb(0,"span"),l.Ac(1,"Enregistrer"),l.Rb())}function ke(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",16),l.Zb("click",(function(){return l.rc(t),l.dc().openDialog()})),l.Sb(1,"mat-icon"),l.Ac(2,"add"),l.Rb(),l.Ac(3,"Question "),l.Rb()}}let qe=(()=>{class t{constructor(t,e,n,i,o,s,r,c){this.router=t,this.fb=e,this.quizService=n,this.snackBar=i,this.authenticationService=o,this.dialog=s,this.route=r,this.questionService=c,this.isCreated=!1,this.context="new",this.createQuizForm=this.fb.group({title:[""],description:[""],theme:[""],isShared:[!1]})}ngOnChanges(t){}ngOnInit(){var t,e;this.userSubscription=this.authenticationService.currentUser.subscribe(t=>this.currentUser=t);const n=null===(e=null===(t=this.route.snapshot.data)||void 0===t?void 0:t._quiz)||void 0===e?void 0:e.payload;n?(this.createQuizForm=this.fb.group({title:[n.title],description:[n.description],theme:[n.theme],isShared:[n.isShared]}),this.isCreated=!0,this.currentQuiz=n,this.questionService.loadQuestions(n.questions)):this.questionService.loadQuestions([])}createQuiz(){const t=Object.assign({},this.createQuizForm.value);t.creator=this.currentUser._id,t.dateCreated=new Date,t.cover="assets/quiz.jpg",this.subscription=this.quizService.postQuiz(t).subscribe({next:t=>{"success"===t.status?(this.snackBar.open(t.status+"\n"+t.message,"X",{duration:4e3}),this.currentQuiz=t.payload,this.isCreated=!0):this.snackBar.open(t.status+"\n"+t.message,"X")},error:t=>{this.snackBar.open(t,"close")},complete:console.log})}saveQuiz(){this.isCreated?this.updateQuiz():this.createQuiz()}updateQuiz(){this.updateSubscription=this.quizService.updateQuiz(this.currentQuiz._id,this.createQuizForm.value).subscribe({next:t=>{this.snackBar.open(t.status+"\n"+t.message,"X",{duration:4e3})},error:t=>{this.snackBar.open(t,"close")},complete:console.log})}openDialog(){this.dialog.open(ie,{width:"250px",data:{question_type:["QCM","QCU","INPUT","ORDERING"]}}).afterClosed().subscribe(t=>{this.currentQuestionType=t}),this.context="new"}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.userSubscription&&this.userSubscription.unsubscribe(),this.updateSubscription&&this.updateSubscription.unsubscribe()}updateQuestionContext(t){this.currentQuestionType=t.question_type,this.questionToUpdate=Object.assign({},t),this.context="update"}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(d.b),l.Mb(s.e),l.Mb(Pt),l.Mb(O.a),l.Mb(Q.a),l.Mb(T.b),l.Mb(d.a),l.Mb(oe))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-add-quiz"]],features:[l.zb],decls:24,vars:9,consts:[[1,"flex","flex-col","mx-auto"],[1,"flex","flex-row"],[1,"shadow-lg","sm:flex","sm:w-full","bg-white","p-8","mx-2","w-1/2"],[1,"w-full","p-5","m-5",3,"formGroup"],[1,"w-full"],["matInput","","type","text","placeholder","Titre","required","","formControlName","title",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1","text-4xl"],["type","text","placeholder","Description","formControlName","description","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],["type","text","placeholder","Theme","formControlName","theme","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],["formControlName","isShared",1,"px-6"],["mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],[1,"w-full",3,"onQuestionUpdateCliqued"],[1,"flex","w-full","justify-center","py-4","px-2","bg-gray-200","m-3"],[1,"w-3/4"],[3,"quizId","question_type","context","question","onQuestionSave"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"form",3),l.Sb(4,"mat-form-field",4),l.Nb(5,"input",5),l.Rb(),l.Sb(6,"mat-form-field",4),l.Nb(7,"input",6),l.Rb(),l.Sb(8,"mat-form-field",4),l.Nb(9,"input",7),l.Rb(),l.Sb(10,"div",4),l.Sb(11,"mat-checkbox",8),l.Ac(12,"Partag\xe9"),l.Rb(),l.Rb(),l.Sb(13,"div",4),l.Sb(14,"button",9),l.Zb("click",(function(){return e.saveQuiz()})),l.zc(15,we,2,0,"span",10),l.zc(16,ye,2,0,"span",10),l.Rb(),l.Rb(),l.Sb(17,"div",4),l.zc(18,ke,4,0,"button",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(19,"div",2),l.Sb(20,"app-question-list",12),l.Zb("onQuestionUpdateCliqued",(function(t){return e.updateQuestionContext(t)})),l.Rb(),l.Rb(),l.Rb(),l.Sb(21,"div",13),l.Sb(22,"div",14),l.Sb(23,"app-question-form",15),l.Zb("onQuestionSave",(function(){return e.currentQuestionType=""})),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(3),l.kc("formGroup",e.createQuizForm),l.Bb(11),l.kc("disabled",!e.createQuizForm.valid),l.Bb(1),l.kc("ngIf",!e.isCreated),l.Bb(1),l.kc("ngIf",e.isCreated),l.Bb(2),l.kc("ngIf",e.isCreated),l.Bb(5),l.kc("quizId",null==e.currentQuiz?null:e.currentQuiz._id)("question_type",e.currentQuestionType)("context",e.context)("question",e.questionToUpdate))},directives:[s.t,s.n,s.g,L.c,P.b,s.c,s.r,s.m,s.f,at.a,$.b,i.m,ae,Ce,k.a],styles:[""]}),t})();function ze(t,e){1&t&&(l.Sb(0,"div",23),l.Nb(1,"mat-spinner"),l.Rb())}function Be(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Date de cr\xe9ation "),l.Rb())}function Ae(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.ec(2,"date"),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",l.hc(2,1,null==t?null:t.dateCreated,"d MMMM y","","fr-FR")," ")}}function Me(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Th\xe8me "),l.Rb())}function Oe(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t?null:t.theme," ")}}function Qe(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Title "),l.Rb())}function Ie(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Nb(2,"br"),l.Sb(3,"p",26),l.Ac(4),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t?null:t.title," "),l.Bb(3),l.Cc(" ",null==t?null:t.description,"")}}function _e(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Cover "),l.Rb())}function Le(t,e){if(1&t&&(l.Sb(0,"td",25),l.Nb(1,"img",28),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("src",null==t?null:t.cover,l.sc)}}function Pe(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Shared "),l.Rb())}function $e(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",t.isShared," ")}}function Fe(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Actions "),l.Rb())}const Ne=function(t){return["/creator/quiz/update",t]},De=function(t){return["/creator/session/open",t]};function Ge(t,e){if(1&t){const t=l.Tb();l.Sb(0,"td",29),l.Sb(1,"button",30),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().delete(null==n?null:n._id)})),l.Sb(2,"mat-icon",31),l.Ac(3,"delete"),l.Rb(),l.Rb(),l.Sb(4,"button",32),l.Sb(5,"mat-icon",33),l.Ac(6,"edit"),l.Rb(),l.Rb(),l.Sb(7,"button",32),l.Sb(8,"mat-icon",33),l.Ac(9,"airplay"),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit;l.Bb(4),l.kc("routerLink",l.mc(2,Ne,t._id)),l.Bb(3),l.kc("routerLink",l.mc(4,De,t._id))}}function Te(t,e){1&t&&l.Nb(0,"mat-header-row")}function je(t,e){1&t&&l.Nb(0,"mat-row")}const Ue=function(){return["/creator/quiz/add"]},Ze=function(){return[5,10,20]};let He=(()=>{class t{constructor(t,e,n){this.quizService=t,this.snackBar=e,this.dialog=n,this.isLoadingResults=!1,this.displayedColumns=["dateCreated","theme","title","cover","shared","actions"],this.resultsLength=0}ngOnInit(){this.getCreatorQuizzes()}ngOnChanges(){this.datasource=new c.k(this.quiz),this.datasource.paginator=this.paginator,this.datasource.sort=this.sort}delete(t){this.dialog.open(j,{width:"450px",data:"Supprimer le Quiz?\n"}).afterClosed().subscribe(e=>{e&&this.quizService.deleteQuiz(t).subscribe({next:t=>{this.snackBar.open(t.message,"X",{duration:3e3}),this.getCreatorQuizzes()},error:t=>{this.snackBar.open(t.message,"X")},complete:console.log})})}applyFilter(t){this.datasource.filter=t.trim().toLowerCase()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getCreatorQuizzes(){this.isLoadingResults=!0,this.subscription=this.quizService.getQuizzesByCreator(JSON.parse(localStorage.getItem("currentUser"))._id).subscribe({next:t=>{var e;this.quiz=t.payload,this.datasource=new c.k(this.quiz),this.resultsLength=null===(e=this.quiz)||void 0===e?void 0:e.length,this.datasource.paginator=this.paginator,this.datasource.sort=this.sort,this.snackBar.open(t.message,"X",{duration:3e3})},error:t=>{this.snackBar.open(t.message,"X")},complete:()=>{this.isLoadingResults=!1}})}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(Pt),l.Mb(O.a),l.Mb(T.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-quiz-list"]],viewQuery:function(t,e){var n;1&t&&(l.vc(a.a,!0),l.vc(u.a,!0)),2&t&&(l.oc(n=l.ac())&&(e.paginator=n.first),l.oc(n=l.ac())&&(e.sort=n.first))},features:[l.zb],decls:34,vars:10,consts:[[1,"container","w-full","flex-full"],[1,"flex","mx-auto"],[1,"justify-start","px-12","align-center"],["matPrefix",""],["matInput","","placeholder","Filter",1,"px-12","py-3","text-teal-900","rounded-b","shadow-md",3,"keyup"],[1,"align-center"],["mat-stroked-button","",1,"justify-end",3,"routerLink"],["class","spinner-container",4,"ngIf"],[1,"shadow-lg","mat-elevation-z8","px-6exi",2,"cursor","pointer"],["mat-table","","matSort","","matSortActive","dateCreated","matSortDirection","desc","matSortDisableClear","",1,"font-mono",3,"dataSource"],["matColumnDef","dateCreated"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","theme"],["matColumnDef","title"],["matColumnDef","cover",1,"lg:hidden"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","shared"],["matColumnDef","actions"],["mat-cell","","class","flex-row",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],[1,"spinner-container"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"w-full","text-gray-700","font-mono"],["mat-header-cell",""],[1,"h-12",3,"src"],["mat-cell","",1,"flex-row"],["mat-button","",3,"click"],["color","warn",1,"icon-button"],["mat-button","",3,"routerLink"],["color","primary",1,"icon-button"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"mat-form-field",2),l.Sb(3,"mat-icon",3),l.Ac(4,"search"),l.Rb(),l.Sb(5,"input",4),l.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),l.Rb(),l.Rb(),l.Sb(6,"div",5),l.Sb(7,"a",6),l.Sb(8,"mat-icon"),l.Ac(9,"add"),l.Rb(),l.Rb(),l.Rb(),l.zc(10,ze,2,0,"div",7),l.Rb(),l.Sb(11,"div",8),l.Sb(12,"table",9),l.Qb(13,10),l.zc(14,Be,2,0,"th",11),l.zc(15,Ae,3,6,"td",12),l.Pb(),l.Qb(16,13),l.zc(17,Me,2,0,"th",11),l.zc(18,Oe,2,1,"td",12),l.Pb(),l.Qb(19,14),l.zc(20,Qe,2,0,"th",11),l.zc(21,Ie,5,2,"td",12),l.Pb(),l.Qb(22,15),l.zc(23,_e,2,0,"th",16),l.zc(24,Le,2,1,"td",12),l.Pb(),l.Qb(25,17),l.zc(26,Pe,2,0,"th",16),l.zc(27,$e,2,1,"td",12),l.Pb(),l.Qb(28,18),l.zc(29,Fe,2,0,"th",16),l.zc(30,Ge,10,6,"td",19),l.Pb(),l.zc(31,Te,1,0,"mat-header-row",20),l.zc(32,je,1,0,"mat-row",21),l.Rb(),l.Nb(33,"mat-paginator",22),l.Rb(),l.Rb()),2&t&&(l.Bb(7),l.kc("routerLink",l.lc(8,Ue)),l.Bb(3),l.kc("ngIf",e.isLoadingResults),l.Bb(2),l.kc("dataSource",e.datasource),l.Bb(19),l.kc("matHeaderRowDef",e.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",e.displayedColumns),l.Bb(1),l.kc("length",null==e.quiz?null:e.quiz.length)("pageSize",5)("pageSizeOptions",l.lc(9,Ze)))},directives:[L.c,k.a,L.h,P.b,$.a,d.e,i.m,c.j,u.a,c.c,c.e,c.b,c.g,c.i,a.a,rt.b,c.d,u.b,c.a,$.b,d.c,c.f,c.h],pipes:[i.e],styles:["table[_ngcontent-%COMP%]{width:100%}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{border-bottom:none;border-top:none}.mat-column-dateCreated[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}.mat-column-theme[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}.mat-column-title[_ngcontent-%COMP%]{flex:9rem;min-width:9rem}.mat-column-cover[_ngcontent-%COMP%], .mat-column-shared[_ngcontent-%COMP%]{flex:2rem;min-width:2rem}.mat-column-actions[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}th[_ngcontent-%COMP%]{border-bottom:transparent;font-size:1rem}td[_ngcontent-%COMP%]{border:transparent;padding:5px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#8a2be2}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})(),Xe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-repos-page"]],decls:4,vars:0,consts:[[1,"text-blue-900"],[1,"container"]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1," Quiz List"),l.Rb(),l.Sb(2,"div",1),l.Nb(3,"app-quiz-list"),l.Rb())},directives:[He],styles:[""]}),t})(),Ee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-support-page"]],decls:9,vars:0,consts:[[1,""]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"h3"),l.Ac(2,"Support For Creator"),l.Rb(),l.Sb(3,"p"),l.Ac(4," Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum tenetur corrupti, recusandae impedit dolores molestias architecto est neque quod, laborum minus? Nam quae error quaerat nostrum nesciunt saepe tenetur at."),l.Rb(),l.Sb(5,"h3"),l.Ac(6,"Issues"),l.Rb(),l.Sb(7,"p"),l.Ac(8," Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum tenetur corrupti, recusandae impedit dolores molestias architecto est neque quod, laborum minus? Nam quae error quaerat nostrum nesciunt saepe tenetur at."),l.Rb(),l.Rb())},styles:[""]}),t})(),Ve=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-settings"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"settings works!"),l.Rb())},styles:[""]}),t})();function Je(t,e){if(1&t&&(l.Sb(0,"div",7),l.Sb(1,"p",8),l.Ac(2),l.Rb(),l.Sb(3,"p",9),l.Ac(4),l.Rb(),l.Sb(5,"div",10),l.Sb(6,"p",11),l.Ac(7),l.Rb(),l.Rb(),l.Rb()),2&t){const t=e.$implicit,n=e.index;l.Bb(2),l.Bc(n+1),l.Bb(2),l.Bc(t.questionText),l.Bb(3),l.Bc(t.question_type)}}let We=(()=>{class t{constructor(t,e,n){this.questionService=t,this.data=e,this.dialogRef=n}ngOnInit(){this.subscription=this.questionService.getQuestionsByQuiz(this.data.quizId).subscribe({next:t=>{this.questions=t.payload},error:t=>{console.log(t.message)},complete:()=>{}})}confirm(){this.dialogRef.close(!0)}cancel(){this.dialogRef.close(!1)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(oe),l.Mb(T.a),l.Mb(T.g))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-view-shared-quiz-content"]],decls:10,vars:1,consts:[["mat-dialog-title","",1,"flex","text-center"],[1,""],[1,"flex","flex-col","w-full"],["class","flex flex-row w-full",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","py-5"],[1,"flex","items-center"],["mat-raised-button","","mat-dialog-close","","color","primary",3,"click"],[1,"flex","flex-row","w-full"],[1,"px-4","text-blue-800","w-1/12"],[1,"text-left","w-9/12"],[1,"justify-end","text-right","float-right","w-1/6"],[1,"px-8","text-blue-800","text-right"]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1,"Questions"),l.Rb(),l.Nb(2,"hr"),l.Sb(3,"mat-dialog-content",1),l.Sb(4,"div",2),l.zc(5,Je,8,3,"div",3),l.Rb(),l.Rb(),l.Sb(6,"mat-dialog-actions",4),l.Sb(7,"div",5),l.Sb(8,"button",6),l.Zb("click",(function(){return e.cancel()})),l.Ac(9," Fermer "),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(5),l.kc("ngForOf",e.questions))},directives:[T.h,T.e,i.l,T.c,$.b,T.d],styles:[""]}),t})();function Ke(t,e){1&t&&(l.Sb(0,"div",21),l.Nb(1,"mat-spinner",22),l.Sb(2,"p",23),l.Ac(3,"Loading, please wait..."),l.Rb(),l.Rb()),2&t&&(l.Bb(1),l.kc("diameter",45))}function Ye(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Date de cr\xe9ation "),l.Rb())}function tn(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.ec(2,"date"),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",l.hc(2,1,null==t?null:t.dateCreated,"d MMMM y","","fr-FR")," ")}}function en(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Th\xe8me "),l.Rb())}function nn(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t?null:t.theme," ")}}function on(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Title "),l.Rb())}function sn(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Nb(2,"br"),l.Sb(3,"p",26),l.Ac(4),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t?null:t.title," "),l.Bb(3),l.Cc(" ",null==t?null:t.description,"")}}function rn(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Creator "),l.Rb())}function cn(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t||null==t.creator?null:t.creator.fullusername," ")}}function an(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Cover "),l.Rb())}function un(t,e){if(1&t&&(l.Sb(0,"td",25),l.Nb(1,"img",28),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("src",null==t?null:t.cover,l.sc)}}function ln(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Shared "),l.Rb())}function bn(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",t.isShared," ")}}function dn(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Actions "),l.Rb())}function pn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"td",25),l.Sb(1,"button",29),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().duplicate(null==n?null:n._id)})),l.Sb(2,"mat-icon",30),l.Ac(3,"file_copy"),l.Rb(),l.Rb(),l.Sb(4,"button",31),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().viewQuestionList(null==n?null:n._id)})),l.Sb(5,"mat-icon",32),l.Ac(6,"visibility"),l.Rb(),l.Rb(),l.Rb()}}function mn(t,e){1&t&&l.Nb(0,"mat-header-row")}function hn(t,e){1&t&&l.Nb(0,"mat-row")}const fn=function(){return[5,10,20]};let gn=(()=>{class t{constructor(t,e,n){this.quizService=t,this.snackBar=e,this.dialog=n,this.isLoadingResults=!1,this.displayedColumns=["dateCreated","theme","title","creator","actions"],this.resultsLength=0}ngOnInit(){this.getSharedQuizzes()}ngOnChanges(){this.datasource=new c.k(this.quiz),this.datasource.paginator=this.paginator,this.datasource.sort=this.sort}duplicate(t){this.quizService.duplicateQuiz(t).subscribe({next:t=>{this.snackBar.open(t.message,"X",{duration:3e3})},error:t=>{this.snackBar.open(t.message,"X")},complete:console.log})}edit(t){console.log(t)}applyFilter(t){this.datasource.filter=t.trim().toLowerCase()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getSharedQuizzes(){this.isLoadingResults=!0,this.subscription=this.quizService.getSharedQuizzes().subscribe({next:t=>{var e;this.isLoadingResults=!0,this.quiz=t.payload,this.datasource=new c.k(this.quiz),this.resultsLength=null===(e=this.quiz)||void 0===e?void 0:e.length,this.datasource.paginator=this.paginator,this.datasource.sort=this.sort,this.snackBar.open(t.message,"X",{duration:3e3})},error:t=>{this.snackBar.open(t.message,"X")},complete:()=>{this.isLoadingResults=!1}})}viewQuestionList(t){this.dialog.open(We,{width:"650px",data:{quizId:t}})}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(Pt),l.Mb(O.a),l.Mb(T.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-shared-quizzes"]],viewQuery:function(t,e){var n;1&t&&(l.vc(a.a,!0),l.vc(u.a,!0)),2&t&&(l.oc(n=l.ac())&&(e.paginator=n.first),l.oc(n=l.ac())&&(e.sort=n.first))},features:[l.zb],decls:35,vars:8,consts:[[1,"container","w-full","flex-full"],[1,"flex","mx-auto"],[1,"justify-start","px-12","align-center"],["matPrefix",""],["matInput","","placeholder","Filter",1,"px-12","py-3","text-teal-900","rounded-b","shadow-md",3,"keyup"],["class","spinner-container flex-col",4,"ngIf"],[1,"shadow-lg","mat-elevation-z8","px-6exi",2,"cursor","pointer"],["mat-table","","matSort","","matSortActive","dateCreated","matSortDirection","desc","matSortDisableClear","",1,"font-mono",3,"dataSource"],["matColumnDef","dateCreated"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","theme"],["matColumnDef","title"],["matColumnDef","creator"],["matColumnDef","cover",1,"lg:hidden"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","shared"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],[1,"spinner-container","flex-col"],["strokeWidth","4","color","warn","title","loading...",3,"diameter"],[1,"text-gray-600"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"w-full","text-gray-700","font-mono"],["mat-header-cell",""],[1,"h-12",3,"src"],["mat-button","","matTooltip","Ajouter \xe0 mes Quiz",3,"click"],["color","warn",1,"icon-button"],["mat-button","","matTooltip","Voir les questions",3,"click"],["color","primary",1,"icon-button"]],template:function(t,e){1&t&&(l.Sb(0,"h1"),l.Ac(1,"Les Quiz partag\xe9s"),l.Rb(),l.Sb(2,"div",0),l.Sb(3,"div",1),l.Sb(4,"mat-form-field",2),l.Sb(5,"mat-icon",3),l.Ac(6,"search"),l.Rb(),l.Sb(7,"input",4),l.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),l.Rb(),l.Rb(),l.zc(8,Ke,4,1,"div",5),l.Rb(),l.Sb(9,"div",6),l.Sb(10,"table",7),l.Qb(11,8),l.zc(12,Ye,2,0,"th",9),l.zc(13,tn,3,6,"td",10),l.Pb(),l.Qb(14,11),l.zc(15,en,2,0,"th",9),l.zc(16,nn,2,1,"td",10),l.Pb(),l.Qb(17,12),l.zc(18,on,2,0,"th",9),l.zc(19,sn,5,2,"td",10),l.Pb(),l.Qb(20,13),l.zc(21,rn,2,0,"th",9),l.zc(22,cn,2,1,"td",10),l.Pb(),l.Qb(23,14),l.zc(24,an,2,0,"th",15),l.zc(25,un,2,1,"td",10),l.Pb(),l.Qb(26,16),l.zc(27,ln,2,0,"th",15),l.zc(28,bn,2,1,"td",10),l.Pb(),l.Qb(29,17),l.zc(30,dn,2,0,"th",15),l.zc(31,pn,7,0,"td",10),l.Pb(),l.zc(32,mn,1,0,"mat-header-row",18),l.zc(33,hn,1,0,"mat-row",19),l.Rb(),l.Nb(34,"mat-paginator",20),l.Rb(),l.Rb()),2&t&&(l.Bb(8),l.kc("ngIf",e.isLoadingResults),l.Bb(2),l.kc("dataSource",e.datasource),l.Bb(22),l.kc("matHeaderRowDef",e.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",e.displayedColumns),l.Bb(1),l.kc("length",null==e.quiz?null:e.quiz.length)("pageSize",5)("pageSizeOptions",l.lc(7,fn)))},directives:[L.c,k.a,L.h,P.b,i.m,c.j,u.a,c.c,c.e,c.b,c.g,c.i,a.a,rt.b,c.d,u.b,c.a,$.b,ct.a,c.f,c.h],pipes:[i.e],styles:["table[_ngcontent-%COMP%]{width:100%}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{border-bottom:none;border-top:none}.mat-column-dateCreated[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}.mat-column-theme[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}.mat-column-title[_ngcontent-%COMP%]{flex:9rem;min-width:9rem}.mat-column-creator[_ngcontent-%COMP%], .mat-column-shared[_ngcontent-%COMP%]{flex:2rem;min-width:2rem}.mat-column-actions[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}th[_ngcontent-%COMP%]{border-bottom:transparent;font-size:1rem}td[_ngcontent-%COMP%]{border:transparent;padding:5px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#8a2be2}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})();var Sn=n("7EHt");function vn(t,e){if(1&t&&(l.Sb(0,"mat-list-item"),l.Sb(1,"mat-icon",8),l.Ac(2,"person"),l.Rb(),l.Sb(3,"h3",9),l.Ac(4),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.Bb(4),l.Dc(" ",t.firstname," ",t.lastname,"")}}function xn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"mat-expansion-panel"),l.Sb(1,"mat-expansion-panel-header"),l.Sb(2,"mat-panel-title"),l.Ac(3),l.Rb(),l.Sb(4,"mat-panel-description"),l.Ac(5),l.Rb(),l.Sb(6,"button",7),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().editGroup(n._id)})),l.Sb(7,"mat-icon"),l.Ac(8,"edit"),l.Rb(),l.Rb(),l.Rb(),l.Sb(9,"mat-list"),l.zc(10,vn,5,2,"mat-list-item",6),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=e.index;l.Bb(3),l.Ec(" ",n+1,"- ",t.label," (",null==t.students?null:t.students.length,") "),l.Bb(2),l.Cc(" ",t.description," "),l.Bb(5),l.kc("ngForOf",null==t?null:t.students)}}const Rn=function(){return["/creator/group/add"]};let Cn=(()=>{class t{constructor(t,e,n,i){this.groupService=t,this.authenticationService=e,this.snackbar=n,this.route=i,this.authenticationService.currentUser.subscribe(t=>this.currentCreator=t)}ngOnInit(){this.subscription=this.groupService.getGroupsByCreator(this.currentCreator._id).subscribe({next:t=>{this.currentGroups=t.payload,this.snackbar.open(t.message,"X",{duration:3e3})},error:t=>{this.snackbar.open(t.message,"X")},complete:()=>{}})}editGroup(t){this.route.navigate(["creator/group/update",t])}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(S),l.Mb(Q.a),l.Mb(O.a),l.Mb(d.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-group-list"]],viewQuery:function(t,e){var n;1&t&&l.Gc(Sn.a,!0),2&t&&l.oc(n=l.ac())&&(e.accordion=n.first)},decls:13,vars:3,consts:[[1,"text-gray-900","font-sans"],[1,"example-action-buttons"],["mat-button","",3,"click"],[1,"align-center"],["mat-stroked-button","",1,"justify-end",3,"routerLink"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"],["matListIcon",""],["matLine",""]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1,"Mes Groupes"),l.Rb(),l.Sb(2,"div",1),l.Sb(3,"button",2),l.Zb("click",(function(){return e.accordion.openAll()})),l.Ac(4,"Tout Ouvrir"),l.Rb(),l.Sb(5,"button",2),l.Zb("click",(function(){return e.accordion.closeAll()})),l.Ac(6,"Tout Fermer"),l.Rb(),l.Rb(),l.Sb(7,"div",3),l.Sb(8,"a",4),l.Sb(9,"mat-icon"),l.Ac(10,"add"),l.Rb(),l.Rb(),l.Rb(),l.Sb(11,"mat-accordion",5),l.zc(12,xn,11,5,"mat-expansion-panel",6),l.Rb()),2&t&&(l.Bb(8),l.kc("routerLink",l.lc(2,Rn)),l.Bb(4),l.kc("ngForOf",e.currentGroups))},directives:[$.b,$.a,d.e,k.a,Sn.a,i.l,Sn.c,Sn.e,Sn.f,Sn.d,y.a,y.c,y.b,N.k],styles:[".example-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]}),t})(),wn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-group-page"]],decls:2,vars:0,consts:[[1,"w-full","mx-auto","px-3","py-3"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Nb(1,"app-group-list"),l.Rb())},directives:[Cn],styles:[""]}),t})();class yn{constructor(t){this.studentService=t,this.studentsSubject=new I.a([]),this.totalCount$=new I.a(0),this.loadingSubject=new I.a(!1),this.loading$=this.loadingSubject.asObservable()}loadStudents(t,e,n,i,o,s){this.loadingSubject.next(!0),this.studentService.findStudentsByCreator(t,e,n,i,o,s).pipe(Object(K.a)(()=>Object(W.a)([])),Object(Y.a)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.studentsSubject.next(t.items),this.totalCount$.next(t.totalCount)})}connect(t){return console.log("Connecting data source"),this.studentsSubject.asObservable()}disconnect(t){this.studentsSubject.complete(),this.loadingSubject.complete(),this.totalCount$.complete()}}const kn=["input"];function qn(t,e){1&t&&(l.Sb(0,"div",18),l.Nb(1,"mat-spinner"),l.Rb())}function zn(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Pr\xe9nom"),l.Rb())}function Bn(t,e){if(1&t&&(l.Sb(0,"td",20),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.firstname)}}function An(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Nom"),l.Rb())}function Mn(t,e){if(1&t&&(l.Sb(0,"td",20),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.lastname)}}function On(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Genre"),l.Rb())}function Qn(t,e){if(1&t&&(l.Sb(0,"td",20),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.gender)}}function In(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Groupe"),l.Rb())}function _n(t,e){if(1&t&&(l.Sb(0,"td",20),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.group.label)}}function Ln(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Login"),l.Rb())}function Pn(t,e){if(1&t&&(l.Sb(0,"td",20),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.loginname)}}function $n(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Mot de Passe"),l.Rb())}function Fn(t,e){if(1&t&&(l.Sb(0,"td",20),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.password)}}function Nn(t,e){1&t&&(l.Sb(0,"th",19),l.Ac(1,"Actions"),l.Rb())}const Dn=function(t){return["/creator/student/update",t]};function Gn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"td",20),l.Sb(1,"button",21),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().delete(null==n?null:n._id)})),l.Sb(2,"mat-icon",22),l.Ac(3,"delete"),l.Rb(),l.Rb(),l.Sb(4,"button",23),l.Sb(5,"mat-icon",24),l.Ac(6,"edit"),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit;l.Bb(4),l.kc("routerLink",l.mc(1,Dn,t._id))}}function Tn(t,e){1&t&&l.Nb(0,"tr",25)}function jn(t,e){1&t&&l.Nb(0,"tr",26)}const Un=function(){return[10,20,50,100]};let Zn=(()=>{class t{constructor(t,e){this.studentService=t,this.authService=e,this.displayedColumns=["firstname","lastname","gender","group","loginname","password","actions"],this.subscription=this.authService.currentUser.subscribe(t=>this.currentCreator=t)}ngOnInit(){this.dataSource=new yn(this.studentService),this.dataSource.loadStudents(this.currentCreator._id,0,10,"firstname","asc","")}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(et.a)(this.input.nativeElement,"keyup").pipe(Object(it.a)(500),Object(ot.a)(),Object(st.a)(()=>{this.paginator.pageIndex=0,this.loadStudentsPage()})).subscribe(),Object(nt.a)(this.sort.sortChange,this.paginator.page).pipe(Object(st.a)(()=>{this.loadStudentsPage()})).subscribe()}loadStudentsPage(){this.dataSource.loadStudents(this.currentCreator._id,this.paginator.pageIndex,this.paginator.pageSize,this.sort.active,this.sort.direction,this.input.nativeElement.value)}delete(t){console.log(t)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(_),l.Mb(Q.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-student-list"]],viewQuery:function(t,e){var n;1&t&&(l.vc(a.a,!0),l.vc(u.a,!0),l.vc(kn,!0)),2&t&&(l.oc(n=l.ac())&&(e.paginator=n.first),l.oc(n=l.ac())&&(e.sort=n.first),l.oc(n=l.ac())&&(e.input=n.first))},decls:35,vars:12,consts:[["matInput","","placeholder","Chercher Apprenant"],["input",""],["class","spinner-container",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","firstname","matSortDirection","asc","matSortDisableClear","","aria-label","Student",3,"dataSource"],["matColumnDef","firstname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastname"],["matColumnDef","gender"],["matColumnDef","group"],["matColumnDef","loginname"],["matColumnDef","password"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],[1,"spinner-container"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-button","",3,"click"],["color","warn",1,"icon-button"],["mat-button","",3,"routerLink"],["color","primary",1,"icon-button"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Sb(0,"h2"),l.Ac(1,"List des Apprenants"),l.Rb(),l.Sb(2,"mat-form-field"),l.Nb(3,"input",0,1),l.Rb(),l.zc(5,qn,2,0,"div",2),l.ec(6,"async"),l.Sb(7,"div",3),l.Sb(8,"table",4),l.Qb(9,5),l.zc(10,zn,2,0,"th",6),l.zc(11,Bn,2,1,"td",7),l.Pb(),l.Qb(12,8),l.zc(13,An,2,0,"th",6),l.zc(14,Mn,2,1,"td",7),l.Pb(),l.Qb(15,9),l.zc(16,On,2,0,"th",6),l.zc(17,Qn,2,1,"td",7),l.Pb(),l.Qb(18,10),l.zc(19,In,2,0,"th",6),l.zc(20,_n,2,1,"td",7),l.Pb(),l.Qb(21,11),l.zc(22,Ln,2,0,"th",6),l.zc(23,Pn,2,1,"td",7),l.Pb(),l.Qb(24,12),l.zc(25,$n,2,0,"th",6),l.zc(26,Fn,2,1,"td",7),l.Pb(),l.Qb(27,13),l.zc(28,Nn,2,0,"th",6),l.zc(29,Gn,7,3,"td",7),l.Pb(),l.zc(30,Tn,1,0,"tr",14),l.zc(31,jn,1,0,"tr",15),l.Rb(),l.Nb(32,"mat-paginator",16,17),l.ec(34,"async"),l.Rb()),2&t&&(l.Bb(5),l.kc("ngIf",l.fc(6,7,e.dataSource.loading$)),l.Bb(3),l.kc("dataSource",e.dataSource),l.Bb(22),l.kc("matHeaderRowDef",e.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",e.displayedColumns),l.Bb(1),l.kc("length",l.fc(34,9,e.dataSource.totalCount$))("pageSize",10)("pageSizeOptions",l.lc(11,Un)))},directives:[L.c,P.b,i.m,c.j,u.a,c.c,c.e,c.b,c.g,c.i,a.a,rt.b,c.d,u.b,c.a,$.b,k.a,c.f,c.h],pipes:[i.b],styles:[".full-width-table[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{border-bottom:none;border-top:none}.mat-column-firstname[_ngcontent-%COMP%], .mat-column-lastname[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}.mat-column-gender[_ngcontent-%COMP%]{flex:2rem;min-width:2rem}.mat-column-loginname[_ngcontent-%COMP%], .mat-column-password[_ngcontent-%COMP%]{flex:3rem;min-width:3rem}.mat-column-actions[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}th[_ngcontent-%COMP%]{border-bottom:transparent;font-size:1rem}td[_ngcontent-%COMP%]{border:transparent;padding:5px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#8a2be2}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})();const Hn=[{path:"",component:Yt,children:[{path:"home",component:te},{path:"quiz",component:Xe},{path:"quiz/add",component:qe},{path:"quiz/update/:id",component:qe,resolve:{_quiz:$t}},{path:"group",component:wn},{path:"group/add",component:J},{path:"group/update/:id",component:J,resolve:{group:v}},{path:"student",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-student-page"]],decls:2,vars:0,consts:[[1,"flex-row","px-3","py-3","m-2"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Nb(1,"app-student-list"),l.Rb())},directives:[Zn],styles:[""]}),t})()},{path:"student/add",component:G},{path:"session/open/:id",component:Lt,resolve:{quiz:$t}},{path:"session/update/:id",component:Lt,resolve:{_quiz:$t}},{path:"session/list",component:Ot},{path:"session/dashboard/:id",component:M,resolve:{session:C}},{path:"about",component:ee.a},{path:"support",component:Ee},{path:"shared",component:gn},{path:"settings",component:Ve},{path:"**",redirectTo:"home",pathMatch:"full"}]},{path:"**",redirectTo:""}];let Xn=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,d.f.forChild(Hn)],d.f]}),t})(),En=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[i.c,Xn,s.h,d.f,s.q,r.a,f.a,h.a,m,p,b]]}),t})()}}]);