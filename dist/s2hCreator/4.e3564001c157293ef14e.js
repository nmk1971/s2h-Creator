(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{KEJB:function(t,e,n){"use strict";n.r(e),n.d(e,"CreatorModule",(function(){return Qn}));var i=n("ofXK"),o=n("tk/3"),s=n("3Pt+"),c=n("jAig"),r=n("+0xr"),a=n("M9IT"),u=n("Dh3D"),l=n("fXoL");let b=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[i.c,s.q,s.h,o.c,c.a,r.l,a.b,u.c]]}),t})(),d=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[i.c,s.q,s.h,o.c,c.a,r.l,a.b,u.c]]}),t})();var p=n("tyNb");let m=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[i.c,p.f,s.h,s.q,c.a,o.c]]}),t})();var h=n("weob"),f=n("bnxV");let g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-update-student"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"update-student works!"),l.Rb())},styles:[""]}),t})(),S=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-add-group"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"add-group works!"),l.Rb())},styles:[""]}),t})(),R=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-update-group"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"update-group works!"),l.Rb())},styles:[""]}),t})(),v=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-add-student"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"add-student works!"),l.Rb())},styles:[""]}),t})();var x=n("2Vo4"),C=n("LRne"),q=n("JIr8"),w=n("nYR2");class y{constructor(t){this.sessionService=t,this.sessionsSubject=new x.a([]),this.totalCount$=new x.a(0),this.loadingSubject=new x.a(!1),this.loading$=this.loadingSubject.asObservable()}loadSessions(t,e,n,i,o,s){this.loadingSubject.next(!0),this.sessionService.findSessionsByCreator(t,e,n,i,o,s).pipe(Object(q.a)(()=>Object(C.a)([])),Object(w.a)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.sessionsSubject.next(t.items),this.totalCount$.next(t.totalCount)})}connect(t){return console.log("Connecting data source"),this.sessionsSubject.asObservable()}disconnect(t){this.sessionsSubject.complete(),this.loadingSubject.complete(),this.totalCount$.complete()}}var z=n("xgIS"),k=n("VRyK"),Q=n("Kj3r"),M=n("/uUt"),O=n("vkgz"),A=n("AytR"),B=n("lJxs");let I=(()=>{class t{constructor(t){this.http=t}openSession(t){return this.http.post(A.a.apiUrl+"/api/v1/quiz-sessions/open",t)}findSessionsByCreator(t,e=0,n=10,i="opendate",s="desc",c=""){return this.http.get(`${A.a.apiUrl}/api/v1/quiz-sessions/creator/${t}`,{params:(new o.d).set("page",e.toString()).set("limit",n.toString()).set("sort",i).set("direction",s).set("filter",c)}).pipe(Object(B.a)(t=>t.payload))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=n("pzaG"),P=n("kmnG"),L=n("qFsG"),D=n("Xa2L"),$=n("bSwM"),N=n("bTqV"),T=n("NFeN");const j=["input"];function F(t,e){1&t&&(l.Sb(0,"div",16),l.Nb(1,"mat-spinner"),l.Rb())}function G(t,e){1&t&&(l.Sb(0,"th",17),l.Ac(1,"Cr\xe9\xe9e le"),l.Rb())}function U(t,e){if(1&t&&(l.Sb(0,"td",18),l.Ac(1),l.ec(2,"date"),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(l.hc(2,1,t.opendate,"d MMMM y \xe0 HH:mm","","fr-FR"))}}function Z(t,e){1&t&&(l.Sb(0,"th",17),l.Ac(1,"Quiz"),l.Rb())}function H(t,e){if(1&t&&(l.Sb(0,"td",18),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc("",t.idquiz.title," ")}}function E(t,e){1&t&&(l.Sb(0,"th",17),l.Ac(1,"Anonyme"),l.Rb())}function V(t,e){if(1&t&&(l.Sb(0,"td",18),l.Nb(1,"mat-checkbox",19),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("checked",null==t?null:t.isAnonymous)}}function X(t,e){1&t&&(l.Sb(0,"th",17),l.Ac(1,"Groupe"),l.Rb())}function J(t,e){if(1&t&&(l.Sb(0,"td",18),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(null==t.group?null:t.group.label)}}function K(t,e){1&t&&(l.Sb(0,"th",17),l.Ac(1,"Actions"),l.Rb())}function W(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",21),l.Zb("click",(function(){l.rc(t);const e=l.dc().$implicit;return l.dc().start(null==e?null:e._id)})),l.Sb(1,"mat-icon",22),l.Ac(2,"play_circle_outline"),l.Rb(),l.Rb()}}function Y(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",21),l.Zb("click",(function(){l.rc(t);const e=l.dc().$implicit;return l.dc().close(null==e?null:e._id)})),l.Sb(1,"mat-icon",23),l.Ac(2,"stop"),l.Rb(),l.Rb()}}function tt(t,e){if(1&t&&(l.Sb(0,"td",18),l.zc(1,W,3,0,"button",20),l.zc(2,Y,3,0,"button",20),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("ngIf",!(null!=t&&t.isopen)),l.Bb(1),l.kc("ngIf",null==t?null:t.isopen)}}function et(t,e){1&t&&l.Nb(0,"tr",24)}function nt(t,e){1&t&&l.Nb(0,"tr",25)}const it=function(){return[10,20,50,100]};let ot=(()=>{class t{constructor(t,e){this.sessionService=t,this.authService=e,this.displayedColumns=["opendate","title","isAnonymous","group","actions"],this.subscription=this.authService.currentUser.subscribe(t=>this.currentCreator=t)}ngOnInit(){this.dataSource=new y(this.sessionService),this.dataSource.loadSessions(this.currentCreator._id,0,10,"opendate","desc","")}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(z.a)(this.input.nativeElement,"keyup").pipe(Object(Q.a)(500),Object(M.a)(),Object(O.a)(()=>{this.paginator.pageIndex=0,this.loadSessionsPage()})).subscribe(),Object(k.a)(this.sort.sortChange,this.paginator.page).pipe(Object(O.a)(()=>{this.loadSessionsPage()})).subscribe()}loadSessionsPage(){this.dataSource.loadSessions(this.currentCreator._id,this.paginator.pageIndex,this.paginator.pageSize,this.sort.active,this.sort.direction,this.input.nativeElement.value)}start(t){console.log("Start Session:",t)}close(t){console.log("Close Session:",t)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(I),l.Mb(_.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-session-list"]],viewQuery:function(t,e){var n;1&t&&(l.vc(a.a,!0),l.vc(u.a,!0),l.vc(j,!0)),2&t&&(l.oc(n=l.ac())&&(e.paginator=n.first),l.oc(n=l.ac())&&(e.sort=n.first),l.oc(n=l.ac())&&(e.input=n.first))},decls:29,vars:12,consts:[["matInput","","placeholder","Chercher sessions"],["input",""],["class","spinner-container",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","opendate","matSortDirection","asc","matSortDisableClear","","aria-label","Sessions",3,"dataSource"],["matColumnDef","opendate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","isAnonymous"],["matColumnDef","group"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],[1,"spinner-container"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["matInput","","color","primary","disabled","",3,"checked"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["color","primary",1,"icon-button"],["color","warn",1,"icon-button"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Sb(0,"h2"),l.Ac(1,"Liste des Sessions"),l.Rb(),l.Sb(2,"mat-form-field"),l.Nb(3,"input",0,1),l.Rb(),l.zc(5,F,2,0,"div",2),l.ec(6,"async"),l.Sb(7,"div",3),l.Sb(8,"table",4),l.Qb(9,5),l.zc(10,G,2,0,"th",6),l.zc(11,U,3,6,"td",7),l.Pb(),l.Qb(12,8),l.zc(13,Z,2,0,"th",6),l.zc(14,H,2,1,"td",7),l.Pb(),l.Qb(15,9),l.zc(16,E,2,0,"th",6),l.zc(17,V,2,1,"td",7),l.Pb(),l.Qb(18,10),l.zc(19,X,2,0,"th",6),l.zc(20,J,2,1,"td",7),l.Pb(),l.Qb(21,11),l.zc(22,K,2,0,"th",6),l.zc(23,tt,3,2,"td",7),l.Pb(),l.zc(24,et,1,0,"tr",12),l.zc(25,nt,1,0,"tr",13),l.Rb(),l.Nb(26,"mat-paginator",14,15),l.ec(28,"async"),l.Rb()),2&t&&(l.Bb(5),l.kc("ngIf",l.fc(6,7,e.dataSource.loading$)),l.Bb(3),l.kc("dataSource",e.dataSource),l.Bb(16),l.kc("matHeaderRowDef",e.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",e.displayedColumns),l.Bb(1),l.kc("length",l.fc(28,9,e.dataSource.totalCount$))("pageSize",10)("pageSizeOptions",l.lc(11,it)))},directives:[P.c,L.b,i.m,r.j,u.a,r.c,r.e,r.b,r.g,r.i,a.a,D.b,r.d,u.b,r.a,$.a,N.b,T.a,r.f,r.h],pipes:[i.b,i.e],styles:[".full-width-table[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{border-bottom:none;border-top:none}.mat-column-opendate[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}.mat-column-title[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}.mat-column-isAnonymous[_ngcontent-%COMP%]{flex:2rem;min-width:2rem}.mat-column-actions[_ngcontent-%COMP%], .mat-column-group[_ngcontent-%COMP%]{flex:3rem;min-width:3rem}th[_ngcontent-%COMP%]{border-bottom:transparent;font-size:1rem}td[_ngcontent-%COMP%]{border:transparent;padding:5px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#8a2be2}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})(),st=(()=>{class t{constructor(t){this.http=t}getGroupsByCreator(t){return this.http.get(`${A.a.apiUrl}/api/v1/groups/creator/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ct=n("dNgK"),rt=n("d3UM"),at=n("FKr1");function ut(t,e){if(1&t&&(l.Sb(0,"mat-option",17),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.kc("value",t),l.Bb(1),l.Cc(" ",t," ")}}function lt(t,e){if(1&t&&(l.Sb(0,"mat-option",17),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.kc("value",null==t?null:t.id),l.Bb(1),l.Cc(" ",t.label," ")}}function bt(t,e){if(1&t&&(l.Sb(0,"div"),l.Sb(1,"mat-label"),l.Ac(2,"Group"),l.Rb(),l.Sb(3,"mat-select",18),l.zc(4,lt,2,2,"mat-option",13),l.Rb(),l.Rb()),2&t){const t=l.dc();l.Bb(4),l.kc("ngForOf",t.groups)}}let dt=(()=>{class t{constructor(t,e,n,i,o,s,c){var r,a;this.route=t,this.fb=e,this.groupService=n,this.authService=i,this.sessionService=o,this.snackBar=s,this.router=c,this.evaluationTypes=["Evaluation des pr\xe9requis","Evaluation Formative","Evaluation Sammative"],this.userSubscription=this.authService.currentUser.subscribe(t=>this.creator=t),this.concernedQuiz=null===(a=null===(r=this.route.snapshot.data)||void 0===r?void 0:r.quiz)||void 0===a?void 0:a.payload}ngOnInit(){const t=[];this.groupSubscription=this.groupService.getGroupsByCreator(this.creator._id).pipe(Object(B.a)(t=>t.payload),Object(B.a)(e=>(e.forEach(e=>{t.push({id:e._id,label:e.label})}),t))).subscribe({next:t=>{console.log(t),this.groups=t}}),this.openSessionForm=this.fb.group({evaluationType:[""],isAnonymous:!0,group:[""]})}onSubmit(){let t;t=Object.assign({},this.openSessionForm.value),""===this.openSessionForm.value.group&&(this.openSessionForm.value.group=null),t.creator=this.creator._id,t.idquiz=this.concernedQuiz._id,this.sessionSubscription=this.sessionService.openSession(t).subscribe({next:t=>{"success"===t.status?(this.snackBar.open(t.status+"\n"+t.message,"X",{duration:6e3}),this.router.navigate(["/creator/session/list"])):this.snackBar.open(t.status+"\n"+t.message,"X")},error:t=>{this.snackBar.open(t,"close")},complete:console.log})}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe(),this.groupSubscription&&this.groupSubscription.unsubscribe(),this.sessionSubscription&&this.sessionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(p.a),l.Mb(s.e),l.Mb(st),l.Mb(_.a),l.Mb(I),l.Mb(ct.a),l.Mb(p.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-session-form"]],decls:35,vars:22,consts:[[1,"flex","flex-col","justify-center","items-center"],[1,"text-blue-700"],[1,"flex","flex-col","text-green-500","justify-center","items-center"],[1,"text-gray-800"],["alt","cover",1,"w-1/6",3,"src"],[1,"text-gray-500"],[1,"text-blue-800"],["matInput","","color","primary","disabled","",3,"checked"],[1,"shadow-lg","sm:flex","w-1/2"],[1,"sm:w-full","bg-white"],[1,"p-8"],[3,"formGroup"],["formControlName","evaluationType","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","isAnonymous","color","accent"],[4,"ngIf"],["mat-stroked-button","",1,"shadow-lg","pt-3","pb-3","w-full","text-white","bg-indigo-500","hover:bg-indigo-400","rounded-full","cursor-pointer",3,"disabled","click"],[3,"value"],["formControlName","group"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"h2",1),l.Ac(2,"Ouvrir Session pour le quiz:"),l.Rb(),l.Sb(3,"div",2),l.Sb(4,"h1",3),l.Ac(5),l.Rb(),l.Nb(6,"img",4),l.Sb(7,"h2",5),l.Ac(8),l.Rb(),l.Sb(9,"p",6),l.Ac(10),l.Rb(),l.Sb(11,"p",6),l.Ac(12,"Partag\xe9 : "),l.Nb(13,"mat-checkbox",7),l.Rb(),l.Sb(14,"h4",6),l.Ac(15),l.ec(16,"date"),l.Rb(),l.Sb(17,"h4",6),l.Ac(18),l.ec(19,"date"),l.Rb(),l.Rb(),l.Sb(20,"div",8),l.Sb(21,"div",9),l.Sb(22,"div",10),l.Sb(23,"form",11),l.Sb(24,"mat-label"),l.Ac(25,"Type d'\xe9valuation"),l.Rb(),l.Sb(26,"mat-select",12),l.zc(27,ut,2,2,"mat-option",13),l.Rb(),l.Sb(28,"mat-checkbox",14),l.Ac(29,"Anonyme"),l.Rb(),l.Nb(30,"br"),l.zc(31,bt,5,1,"div",15),l.Nb(32,"br"),l.Sb(33,"button",16),l.Zb("click",(function(){return e.onSubmit()})),l.Ac(34," Cr\xe9er Une Session "),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(5),l.Dc(" ",e.concernedQuiz.title," - ",null==e.concernedQuiz||null==e.concernedQuiz.questions?null:e.concernedQuiz.questions.length," question(s) "),l.Bb(1),l.kc("src",e.concernedQuiz.cover,l.sc),l.Bb(2),l.Cc(" ",e.concernedQuiz.description," "),l.Bb(2),l.Cc("Theme : ",e.concernedQuiz.theme,""),l.Bb(3),l.kc("checked",null==e.concernedQuiz?null:e.concernedQuiz.isShared),l.Bb(2),l.Cc("Date Creation : ",l.hc(16,12,null==e.concernedQuiz?null:e.concernedQuiz.dateCreated,"d MMMM y","","fr-FR"),""),l.Bb(3),l.Cc("Date de Modification Creation : ",l.hc(19,17,null==e.concernedQuiz?null:e.concernedQuiz.updatedAt,"d MMMM y","","fr-FR"),""),l.Bb(5),l.kc("formGroup",e.openSessionForm),l.Bb(4),l.kc("ngForOf",e.evaluationTypes),l.Bb(4),l.kc("ngIf",!e.openSessionForm.value.isAnonymous),l.Bb(2),l.kc("disabled",!e.openSessionForm.valid||!e.openSessionForm.value.isAnonymous&&0===(null==e.openSessionForm.value.group?null:e.openSessionForm.value.group.length)))},directives:[$.a,s.t,s.n,s.g,P.g,rt.a,s.m,s.f,s.r,i.l,i.m,N.b,at.m],pipes:[i.e],styles:[""]}),t})(),pt=(()=>{class t{constructor(t){this.httpClient=t}postQuiz(t){return this.httpClient.post(A.a.apiUrl+"/api/v1/quizzes/add",t)}deleteQuiz(t){return this.httpClient.delete(`${A.a.apiUrl}/api/v1/quizzes/delete/${t}`)}duplicateQuiz(t){return this.httpClient.post(`${A.a.apiUrl}/api/v1/quizzes/duplicate/${t}`,{})}updateQuiz(t,e){let n=Object.assign({},e);return this.httpClient.put(`${A.a.apiUrl}/api/v1/quizzes/update/${t}`,n)}getQuizById(t){return this.httpClient.get(`${A.a.apiUrl}/api/v1/quizzes/${t}`)}getAllQuizzes(){return this.httpClient.get(A.a.apiUrl+"/api/v1/quizzes")}getSharedQuizzes(){return this.httpClient.get(A.a.apiUrl+"/api/v1/quizzes/shared")}getQuizzesByCreator(t){return this.httpClient.get(`${A.a.apiUrl}/api/v1/quizzes/creator/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mt=(()=>{class t{constructor(t){this.quizService=t}resolve(t,e){return this.quizService.getQuizById(t.paramMap.get("id"))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(pt))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ht=(()=>{class t{constructor(){}ngOnInit(){}getAvatar(t){return t?`${A.a.apiUrl}/${t}`:"assets/default-avatar.jpg"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-user-badge"]],inputs:{userInfo:"userInfo"},decls:4,vars:2,consts:[[1,"flex","flex-row","py-3","mx-auto"],["alt","avatar",1,"self-center","w-6","rounded-full","shadow-lg","h-6",3,"src"],[1,"w-full","font-mono","text-sm","text-center","text-gray-800","font-haireline"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Nb(1,"img",1),l.Sb(2,"span",2),l.Ac(3),l.Rb(),l.Rb()),2&t&&(l.Bb(1),l.kc("src",e.getAvatar(null==e.userInfo?null:e.userInfo.avatar_url),l.sc),l.Bb(2),l.Bc(null==e.userInfo?null:e.userInfo.fullusername))},styles:[""]}),t})();const ft=function(){return["home"]},gt=function(){return["quiz"]},St=function(){return["about"]},Rt=function(){return["support"]},vt=function(){return["/home/contact"]};let xt=(()=>{class t{constructor(t,e){this.authenticationService=t,this.router=e}ngOnInit(){this.subscription=this.authenticationService.currentUser.subscribe({next:t=>{this._user=Object.assign({},t)},error:t=>console.log(t),complete:()=>console.log("Ok")})}ngOnDestroy(){this.subscription.unsubscribe()}logout(){this.authenticationService.logout(),this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(_.a),l.Mb(p.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-navbar"]],decls:34,vars:11,consts:[["id","header",1,"top-0","z-30","w-full","py-1"],[1,"container","flex","flex-wrap","items-center","justify-between","w-full","px-6","py-3","mx-auto","mt-0"],["for","menu-toggle",1,"block","cursor-pointer","md:hidden"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20",1,"text-gray-900","fill-current"],["d","M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"],["type","checkbox","id","menu-toggle",1,"hidden"],["id","menu",1,"order-3","hidden","w-full","md:flex","md:items-center","md:w-auto","md:order-2"],[1,"items-center","justify-between","pt-4","text-base","text-gray-700","md:flex","md:pt-0"],["routerLinkActive","router-link-active",1,"inline-block","px-4","py-2","no-underline","rounded-md","hover:text-black","hover:underline","hover:bg-gray-200",3,"routerLink"],["mat-stroked-button","","color","warn",1,"w-full","justify-end",3,"click"],[3,"userInfo"],[1,"order-1","md:order-1"],["href","creator",1,"flex","items-center","text-xl","font-bold","tracking-wide","text-gray-800","no-underline","hover:no-underline"],["src","assets/logo.png",1,"h-12","p-2"],[1,"text-lg","text-opacity-75"]],template:function(t,e){1&t&&(l.Sb(0,"nav",0),l.Sb(1,"div",1),l.Sb(2,"label",2),l.cc(),l.Sb(3,"svg",3),l.Sb(4,"title"),l.Ac(5,"menu"),l.Rb(),l.Nb(6,"path",4),l.Rb(),l.Rb(),l.bc(),l.Nb(7,"input",5),l.Sb(8,"div",6),l.Sb(9,"nav"),l.Sb(10,"ul",7),l.Sb(11,"li"),l.Sb(12,"a",8),l.Ac(13," Home "),l.Rb(),l.Rb(),l.Sb(14,"li"),l.Sb(15,"a",8),l.Ac(16," Mes Quiz "),l.Rb(),l.Rb(),l.Sb(17,"li"),l.Sb(18,"a",8),l.Ac(19," About Us "),l.Rb(),l.Rb(),l.Sb(20,"li"),l.Sb(21,"a",8),l.Ac(22," Support "),l.Rb(),l.Rb(),l.Sb(23,"li"),l.Sb(24,"a",8),l.Ac(25," Contact "),l.Rb(),l.Rb(),l.Sb(26,"button",9),l.Zb("click",(function(){return e.logout()})),l.Ac(27,"Se d\xe9connecter"),l.Rb(),l.Nb(28,"app-user-badge",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(29,"div",11),l.Sb(30,"a",12),l.Nb(31,"img",13),l.Sb(32,"span",14),l.Ac(33,"Espace Cr\xe9ateur"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(12),l.kc("routerLink",l.lc(6,ft)),l.Bb(3),l.kc("routerLink",l.lc(7,gt)),l.Bb(3),l.kc("routerLink",l.lc(8,St)),l.Bb(3),l.kc("routerLink",l.lc(9,Rt)),l.Bb(3),l.kc("routerLink",l.lc(10,vt)),l.Bb(4),l.kc("userInfo",e._user))},directives:[p.e,p.d,N.b,ht],styles:[".worksans[_ngcontent-%COMP%]{font-family:Work Sans,sans-serif}#menu-toggle[_ngcontent-%COMP%]:checked + #menu[_ngcontent-%COMP%]{display:block}.hover\\[_ngcontent-%COMP%]:grow{transition:all .3s;transform:scale(1)}.hover\\[_ngcontent-%COMP%]:grow:hover{transform:scale(1.02)}"]}),t})();var Ct=n("XhcP"),qt=n("MutI");const wt=function(){return["/creator/shared"]},yt=function(){return["/creator/group"]},zt=function(){return["/creator/student"]},kt=function(){return["/back/users"]},Qt=function(){return["/back/customer"]};let Mt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-side-bar"]],decls:37,vars:10,consts:[["color","primary"],[3,"routerLink"],["mat-line",""]],template:function(t,e){1&t&&(l.Sb(0,"mat-nav-list"),l.Sb(1,"mat-list"),l.Sb(2,"mat-list-item"),l.Sb(3,"mat-icon",0),l.Ac(4,"settings"),l.Rb(),l.Sb(5,"a",1),l.Sb(6,"h4",2),l.Ac(7,"Shared Quizzes"),l.Rb(),l.Rb(),l.Nb(8,"h4",2),l.Rb(),l.Sb(9,"mat-list-item"),l.Sb(10,"mat-icon",0),l.Ac(11,"supervisor_account"),l.Rb(),l.Sb(12,"a",1),l.Sb(13,"h4",2),l.Ac(14,"Mes Groupes"),l.Rb(),l.Rb(),l.Nb(15,"h4",2),l.Rb(),l.Sb(16,"mat-list-item"),l.Sb(17,"mat-icon",0),l.Ac(18,"person"),l.Rb(),l.Sb(19,"a",1),l.Sb(20,"h4",2),l.Ac(21,"Mes Apprenants"),l.Rb(),l.Rb(),l.Nb(22,"h4",2),l.Rb(),l.Sb(23,"mat-list-item"),l.Sb(24,"mat-icon",0),l.Ac(25,"verified_user"),l.Rb(),l.Sb(26,"a",1),l.Sb(27,"h4",2),l.Ac(28,"Granted Users"),l.Rb(),l.Rb(),l.Nb(29,"h4",2),l.Rb(),l.Sb(30,"mat-list-item"),l.Sb(31,"mat-icon",0),l.Ac(32,"person"),l.Rb(),l.Sb(33,"a",1),l.Sb(34,"h4",2),l.Ac(35,"Customers"),l.Rb(),l.Rb(),l.Nb(36,"h4",2),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(5),l.kc("routerLink",l.lc(5,wt)),l.Bb(7),l.kc("routerLink",l.lc(6,yt)),l.Bb(7),l.kc("routerLink",l.lc(7,zt)),l.Bb(7),l.kc("routerLink",l.lc(8,kt)),l.Bb(7),l.kc("routerLink",l.lc(9,Qt)))},directives:[qt.e,qt.a,qt.c,T.a,p.e,at.k],styles:[""]}),t})(),Ot=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"flex","w-full","justify-end","align-center","py-6","-px3"],[1,"px-3","italic"]],template:function(t,e){1&t&&(l.Sb(0,"footer",0),l.Sb(1,"p",1),l.Ac(2,"S2H Quiz Creator"),l.Rb(),l.Rb())},styles:[""]}),t})(),At=(()=>{class t{constructor(){this.isOpened=!1}ngOnInit(){}toggle(){this.isOpened=!this.isOpened}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-creator-land-page"]],decls:11,vars:0,consts:[[1,""],["mode","side",3,"closed","opened"],["adminsidenav",""],["color","accent",3,"click"]],template:function(t,e){if(1&t){const t=l.Tb();l.Sb(0,"div",0),l.Nb(1,"app-navbar"),l.Sb(2,"mat-sidenav-container"),l.Sb(3,"mat-sidenav",1,2),l.Zb("closed",(function(){return e.toggle()}))("opened",(function(){return e.toggle()})),l.Nb(5,"app-side-bar"),l.Rb(),l.Sb(6,"mat-sidenav-content"),l.Sb(7,"mat-icon",3),l.Zb("click",(function(){return l.rc(t),l.pc(4).toggle()})),l.Ac(8,"menu"),l.Rb(),l.Nb(9,"router-outlet"),l.Rb(),l.Rb(),l.Nb(10,"app-footer"),l.Rb()}},directives:[xt,Ct.b,Ct.a,Mt,Ct.c,T.a,p.g,Ot],styles:["mat-sidenav-container[_ngcontent-%COMP%]{height:100%}mat-sidenav[_ngcontent-%COMP%], mat-sidenav-content[_ngcontent-%COMP%]{padding:1rm;height:87vh;max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content;min-height:-webkit-min-content;min-height:min-content}mat-sidenav[_ngcontent-%COMP%]{width:250px}mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),Bt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-home-page"]],decls:3,vars:0,template:function(t,e){1&t&&(l.Sb(0,"h1"),l.Ac(1,"Page d'accueil du cr\xe9ateur"),l.Rb(),l.Ac(2," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sed dolorem, reiciendis temporibus officiis voluptas ratione quae sapiente illum eaque delectus expedita rerum recusandae totam, dolores, impedit excepturi. Rerum, molestiae in!"))},styles:[""]}),t})();var It=n("s3dw"),_t=n("0IaG");function Pt(t,e){if(1&t&&(l.Sb(0,"mat-option",8),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.kc("value",t),l.Bb(1),l.Cc(" ",t," ")}}let Lt=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.qtypes=["QCM","QCU","INPUT","ORDERING"]}onNoClick(){this.dialogRef.close()}ngOnInit(){}confirm(){this.dialogRef.close(this.question_type)}cancel(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(_t.g),l.Mb(_t.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-choix-type-question"]],decls:16,vars:2,consts:[["mat-dialog-title","",1,"flex","text-center"],["appearance","fill"],["name","question_type",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","py-5"],[1,"flex","items-center"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","mat-dialog-close","","color","warn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1,"Veillez Choisir le type de votre question"),l.Rb(),l.Nb(2,"hr"),l.Sb(3,"mat-dialog-content"),l.Sb(4,"mat-form-field",1),l.Sb(5,"mat-label"),l.Ac(6,"Type de Question"),l.Rb(),l.Sb(7,"mat-select",2),l.Zb("ngModelChange",(function(t){return e.question_type=t})),l.zc(8,Pt,2,2,"mat-option",3),l.Rb(),l.Rb(),l.Rb(),l.Sb(9,"mat-dialog-actions",4),l.Sb(10,"div",5),l.Sb(11,"button",6),l.Zb("click",(function(){return e.confirm()})),l.Ac(12," Yes "),l.Rb(),l.Rb(),l.Sb(13,"div",5),l.Sb(14,"button",7),l.Zb("click",(function(){return e.cancel()})),l.Ac(15," No "),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(7),l.kc("ngModel",e.question_type),l.Bb(1),l.kc("ngForOf",e.qtypes))},directives:[_t.h,_t.e,P.c,P.g,rt.a,s.m,s.p,i.l,_t.c,N.b,_t.d,at.m],styles:[""]}),t})(),Dt=(()=>{class t{constructor(t){this.http=t,this.questionList=[],this.currentQuestionList$=new x.a(this.questionList)}postQuestion(t){return this.http.post(A.a.apiUrl+"/api/v1/questions/add",t)}deleteQuestionFromAPI(t){return this.http.delete(`${A.a.apiUrl}/api/v1/questions/delete/${t}`)}updateQuestionInAPI(t,e){return this.http.put(`${A.a.apiUrl}/api/v1/questions/update/${t}`,e)}getQuestionsByQuiz(t){return this.http.get(`${A.a.apiUrl}/api/v1/questions/shared/${t}`)}loadQuestions(t){this.questionList=[...t],this.currentQuestionList$.next(this.questionList)}addQuestion(t){this.questionList.push(t),this.currentQuestionList$.next(this.questionList)}deleteQuestion(t){this.questionList=this.questionList.filter(e=>e._id!==t),this.currentQuestionList$.next(this.questionList)}updateQuestion(t){let e=this.questionList.findIndex(e=>e._id===t._id);console.log(e,"  ",t),this.questionList[e]=t,this.currentQuestionList$.next(this.questionList)}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$t=(()=>{class t{constructor(t,e,n){this.data=t,this.dialogRef=e,this.message=n}ngOnInit(){}confirm(){this.dialogRef.close(!0)}cancel(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(_t.a),l.Mb(_t.g),l.Mb(_t.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-confirmation-dialog"]],decls:13,vars:1,consts:[["mat-dialog-title","",1,"flex","text-center"],[1,"mat-display-1","font-mono","text-gray-900"],[1,"flex","flex-row","justify-between","py-5"],[1,"flex","items-center"],["mat-raised-button","","mat-dialog-close","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1,"Confirmation"),l.Rb(),l.Nb(2,"hr"),l.Sb(3,"mat-dialog-content"),l.Sb(4,"span",1),l.Ac(5),l.Rb(),l.Rb(),l.Sb(6,"mat-dialog-actions",2),l.Sb(7,"div",3),l.Sb(8,"button",4),l.Zb("click",(function(){return e.cancel()})),l.Ac(9," Non "),l.Rb(),l.Rb(),l.Sb(10,"div",3),l.Sb(11,"button",5),l.Zb("click",(function(){return e.confirm()})),l.Ac(12," Oui "),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(5),l.Bc(e.message))},directives:[_t.h,_t.e,_t.c,N.b,_t.d],styles:[""]}),t})(),Nt=(()=>{class t{constructor(t){this.el=t}onMouseEnter(){this.highlight(this.defaultColor||this.highlightColor||"tomato","white")}onMouseLeave(){this.highlight(null,"black")}highlight(t,e){this.el.nativeElement.style.backgroundColor=t,this.el.nativeElement.style.color=e}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(l.l))},t.\u0275dir=l.Hb({type:t,selectors:[["","appHighlight",""]],hostBindings:function(t,e){1&t&&l.Zb("mouseenter",(function(){return e.onMouseEnter()}))("mouseleave",(function(){return e.onMouseLeave()}))},inputs:{defaultColor:"defaultColor",highlightColor:["appHighlight","highlightColor"]}}),t})(),Tt=(()=>{class t{transform(t,e){return""!==e?t.filter(t=>-1!==t.questionText.toLowerCase().indexOf(e.toLowerCase())||-1!==t.question_type.toLowerCase().indexOf(e.toLowerCase())):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Lb({name:"questionListFilter",type:t,pure:!0}),t})();function jt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"li",10),l.Sb(1,"span"),l.Ac(2),l.Rb(),l.Sb(3,"span",11),l.Sb(4,"span",12),l.Ac(5),l.Rb(),l.Sb(6,"button",13),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().deleteQuestion(n._id)})),l.Sb(7,"mat-icon",14),l.Ac(8,"delete"),l.Rb(),l.Rb(),l.Sb(9,"button",13),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().updateQuestion(n)})),l.Sb(10,"mat-icon",15),l.Ac(11,"edit"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=e.index;l.kc("highlightColor","green"),l.Bb(2),l.Dc(" ",n+1,"- ",t.questionText," "),l.Bb(3),l.Cc(" ",t.question_type,"")}}let Ft=(()=>{class t{constructor(t,e,n){this.questionService=t,this.shnackBar=e,this.dialog=n,this.onQuestionUpdateCliqued=new l.o,this.searchText="",this.color="orange"}ngOnInit(){this.questions$=this.questionService.currentQuestionList$.asObservable()}deleteQuestion(t){this.dialog.open($t,{width:"450px",data:"Supprimer la Question?"}).afterClosed().subscribe(e=>{e&&this.questionService.deleteQuestionFromAPI(t).subscribe({next:e=>{this.shnackBar.open(e.message,"X",{duration:3e3}),"success"===e.status&&this.questionService.deleteQuestion(t)},error:t=>{this.shnackBar.open(t.message,"X")},complete:console.log})})}updateQuestion(t){this.onQuestionUpdateCliqued.next(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(Dt),l.Mb(ct.a),l.Mb(_t.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-question-list"]],outputs:{onQuestionUpdateCliqued:"onQuestionUpdateCliqued"},decls:15,vars:10,consts:[[1,"w-full"],[1,"text-center"],[1,"text-blue-800"],[1,"flex","flex-row","content-end","block","inline-block","p-3","mx-auto","my-2","mr-6"],["type","search","placeholder","Filter...",1,"p-3","border-0","rounded","shadow","bg-purple-white",3,"ngModel","ngModelChange"],[1,"mt-3","mr-4","pin-r","pin-t","text-purple-lighter"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 52.966 52.966",0,"xml","space","preserve",1,"h-4","text-dark",2,"enable-background","new 0 0 52.966 52.966"],["d","M51.704,51.273L36.845,35.82c3.79-3.801,6.138-9.041,6.138-14.82c0-11.58-9.42-21-21-21s-21,9.42-21,21s9.42,21,21,21\n      c5.083,0,9.748-1.817,13.384-4.832l14.895,15.491c0.196,0.205,0.458,0.307,0.721,0.307c0.25,0,0.499-0.093,0.693-0.279\n      C52.074,52.304,52.086,51.671,51.704,51.273z M21.983,40c-10.477,0-19-8.523-19-19s8.523-19,19-19s19,8.523,19,19\n      S32.459,40,21.983,40z"],[1,"w-full","px-4","mx-2","flex","flex-col","overflow-y-scroll","h-48"],["appHighlight","","class","text-gray-800 justify-between flex  w-full",3,"highlightColor",4,"ngFor","ngForOf"],["appHighlight","",1,"text-gray-800","justify-between","flex","w-full",3,"highlightColor"],[1,"align-middle"],[1,"text-red-700","inline-block","align-middle"],["mat-button","",3,"click"],["color","warn",1,"icon-button"],["color","primary",1,"icon-button"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"h1",1),l.Ac(2,"Liste des Questions "),l.Sb(3,"span",2),l.Ac(4),l.ec(5,"async"),l.Rb(),l.Rb(),l.Sb(6,"div",3),l.Sb(7,"input",4),l.Zb("ngModelChange",(function(t){return e.searchText=t})),l.Rb(),l.Sb(8,"div",5),l.cc(),l.Sb(9,"svg",6),l.Nb(10,"path",7),l.Rb(),l.Rb(),l.Rb(),l.bc(),l.Sb(11,"ol",8),l.zc(12,jt,12,4,"li",9),l.ec(13,"questionListFilter"),l.ec(14,"async"),l.Rb(),l.Rb()),2&t&&(l.Bb(4),l.Cc("(",l.fc(5,3,e.questions$).length,")"),l.Bb(3),l.kc("ngModel",e.searchText),l.Bb(5),l.kc("ngForOf",l.gc(13,5,l.fc(14,8,e.questions$),e.searchText)))},directives:[s.c,s.m,s.p,i.l,Nt,N.b,T.a],pipes:[i.b,Tt],styles:[""]}),t})();var Gt=n("Wp6s"),Ut=n("QibW");function Zt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"li"),l.Sb(1,"div",7),l.Sb(2,"div",8),l.Sb(3,"mat-radio-button",9),l.Zb("change",(function(){l.rc(t);const n=e.index;return l.dc().radioChecked(n)})),l.Rb(),l.Rb(),l.Sb(4,"div",10),l.Sb(5,"mat-form-field",1),l.Sb(6,"input",11),l.Zb("ngModelChange",(function(n){l.rc(t);const i=e.index;return l.dc().qcuResponseList[i].label=n})),l.Rb(),l.Rb(),l.Rb(),l.Sb(7,"div",12),l.Sb(8,"mat-icon",13),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().deleteResponse(n)})),l.Ac(9,"delete"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=e.index,i=l.dc();l.Bb(3),l.kc("checked",t.isValid),l.Bb(3),l.kc("ngModel",i.qcuResponseList[n].label)}}function Ht(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",14),l.Zb("click",(function(){return l.rc(t),l.dc().saveQuestion()})),l.Ac(1,"Enregistrer"),l.Rb()}if(2&t){const t=l.dc();l.kc("disabled",!t.oneChecked)}}let Et=(()=>{class t{constructor(t,e,n){this.fb=t,this.questionService=e,this.snackBar=n,this.onQuestionSave=new l.o,this.qcuResponseList=[],this.oneChecked=!1,this.QCUQuestionForm=t.group({questionText:[""]})}ngOnInit(){"new"===this.context?(this.qcuResponseList.push({label:"",isValid:!1}),this.qcuResponseList.push({label:"",isValid:!1})):"update"===this.context&&(this.QCUQuestionForm=this.fb.group({questionText:[this.question.questionText]}),this.qcuResponseList=[...this.question.qcxResponse])}ngOnChanges(){"update"===this.context&&(this.QCUQuestionForm=this.fb.group({questionText:[this.question.questionText]}),this.qcuResponseList=[...this.question.qcxResponse],this.oneChecked=!0)}addResponse(){this.qcuResponseList.push({label:"",isValid:!1})}deleteResponse(t){this.qcuResponseList=this.qcuResponseList.filter(e=>e!==t)}radioChecked(t){for(var e=0;e<this.qcuResponseList.length;e++)this.qcuResponseList[e].isValid=e===t;this.oneChecked=!0}createQuestion(){this.questionService.postQuestion({quizId:this.quizId,questionText:this.QCUQuestionForm.value.questionText,question_type:"QCU",qcxResponse:this.qcuResponseList}).subscribe({next:t=>{this.snackBar.open(t.message,"x",{duration:3e3}),this.questionService.addQuestion(t.payload),this.onQuestionSave.emit("Ok")},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}updateQuestion(){let t={_id:this.question._id,quizId:this.quizId,questionText:this.QCUQuestionForm.value.questionText,question_type:"QCU",qcxResponse:this.qcuResponseList};this.questionService.updateQuestionInAPI(this.question._id,t).subscribe({next:e=>{this.snackBar.open(e.message,"x",{duration:3e3}),this.questionService.updateQuestion(t),this.onQuestionSave.emit("Ok")},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}saveQuestion(){"new"===this.context?this.createQuestion():"update"===this.context&&this.updateQuestion()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(s.e),l.Mb(Dt),l.Mb(ct.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-qcu-question-form"]],inputs:{quizId:"quizId",context:"context",question:"question"},outputs:{onQuestionSave:"onQuestionSave"},features:[l.zb],decls:16,vars:3,consts:[[1,"w-1/2"],[1,"w-full"],[1,"w-full","p-5","m-5",3,"formGroup"],["type","text","placeholder","Texte de la question","formControlName","questionText","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],[4,"ngFor","ngForOf"],[3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"flex","w-full"],[1,"flex","m-2","align-center"],[3,"checked","change"],[1,"flex-grow","px-4","py-2","m-2"],["matInput","","type","text","placeholder","Texte de la R\xe9ponse","name","qcuResponseList[i].label",1,"w-full","bg-transparent","border-b","m-auto","block","border-gray-500","mb-6","text-gray-700","p-1",3,"ngModel","ngModelChange"],[1,"flex-none","text-center","px-4","py-2","m-2"],["color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(l.Sb(0,"mat-card"),l.Sb(1,"mat-card-header"),l.Sb(2,"mat-card-title"),l.Ac(3," QUESTION "),l.Rb(),l.Sb(4,"mat-card-subtitle",0),l.Ac(5," :) "),l.Rb(),l.Rb(),l.Sb(6,"mat-card-content",1),l.Sb(7,"form",2),l.Sb(8,"mat-form-field",1),l.Nb(9,"input",3),l.Rb(),l.Rb(),l.Sb(10,"ol"),l.zc(11,Zt,10,2,"li",4),l.Rb(),l.Sb(12,"mat-icon",5),l.Zb("click",(function(){return e.addResponse()})),l.Ac(13,"add"),l.Rb(),l.Rb(),l.Sb(14,"mat-dialog-actions"),l.zc(15,Ht,2,1,"button",6),l.Rb(),l.Rb()),2&t&&(l.Bb(7),l.kc("formGroup",e.QCUQuestionForm),l.Bb(4),l.kc("ngForOf",e.qcuResponseList),l.Bb(4),l.kc("ngIf",""!=e.QCUQuestionForm.value.questionText))},directives:[Gt.a,Gt.c,Gt.f,Gt.e,Gt.b,s.t,s.n,s.g,P.c,s.c,L.b,s.m,s.f,i.l,T.a,_t.c,i.m,Ut.a,s.p,N.b],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function Vt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"li"),l.Sb(1,"div",7),l.Sb(2,"div",8),l.Sb(3,"mat-checkbox",9),l.Zb("ngModelChange",(function(n){return l.rc(t),e.$implicit.isValid=n})),l.Rb(),l.Rb(),l.Sb(4,"div",10),l.Sb(5,"mat-form-field",1),l.Sb(6,"input",11),l.Zb("ngModelChange",(function(n){l.rc(t);const i=e.index;return l.dc().qcmResponseList[i].label=n})),l.Rb(),l.Rb(),l.Rb(),l.Sb(7,"div",12),l.Sb(8,"mat-icon",13),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().deleteResponse(n)})),l.Ac(9,"delete"),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,n=e.index,i=l.dc();l.Bb(3),l.kc("ngModel",t.isValid),l.Bb(3),l.kc("ngModel",i.qcmResponseList[n].label)}}function Xt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",14),l.Zb("click",(function(){return l.rc(t),l.dc().saveQuestion()})),l.Ac(1,"Enregistrer"),l.Rb()}}let Jt=(()=>{class t{constructor(t,e,n){this.fb=t,this.questionService=e,this.snackBar=n,this.onQuestionSave=new l.o,this.qcmResponseList=[],this.QCMQuestionForm=t.group({questionText:[""]})}ngOnInit(){console.log("from qcm-question-form context : ",this.context),"new"===this.context?(this.qcmResponseList.push({label:"",isValid:!1}),this.qcmResponseList.push({label:"",isValid:!1})):"update"===this.context&&(this.QCMQuestionForm=this.fb.group({questionText:[this.question.questionText]}),this.qcmResponseList=[...this.question.qcxResponse])}ngOnChanges(){"update"===this.context&&(this.QCMQuestionForm=this.fb.group({questionText:[this.question.questionText]}),this.qcmResponseList=[...this.question.qcxResponse])}addResponse(){this.qcmResponseList.push({label:"",isValid:!1})}deleteResponse(t){this.qcmResponseList=this.qcmResponseList.filter(e=>e!==t)}radioChecked(t){for(var e=0;e<this.qcmResponseList.length;e++)this.qcmResponseList[e].isValid=e===t}createQuestion(){this.questionService.postQuestion({quizId:this.quizId,questionText:this.QCMQuestionForm.value.questionText,question_type:"QCM",qcxResponse:this.qcmResponseList}).subscribe({next:t=>{this.snackBar.open(t.message,"x",{duration:3e3}),this.questionService.addQuestion(t.payload),this.onQuestionSave.emit("Ok")},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}updateQuestion(){let t={_id:this.question._id,quizId:this.quizId,questionText:this.QCMQuestionForm.value.questionText,question_type:"QCM",qcxResponse:this.qcmResponseList};this.questionService.updateQuestionInAPI(this.question._id,t).subscribe({next:e=>{this.snackBar.open(e.message,"x",{duration:3e3}),this.questionService.updateQuestion(t),this.onQuestionSave.emit("Ok")},error:t=>{this.snackBar.open(t.message,"x")},complete:console.log})}saveQuestion(){"new"===this.context?this.createQuestion():"update"===this.context&&this.updateQuestion()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(s.e),l.Mb(Dt),l.Mb(ct.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-qcm-question-form"]],inputs:{quizId:"quizId",context:"context",question:"question"},outputs:{onQuestionSave:"onQuestionSave"},features:[l.zb],decls:22,vars:7,consts:[[1,"w-1/2"],[1,"w-full"],[1,"w-full","p-5","m-5",3,"formGroup"],["type","text","placeholder","Texte de la question","formControlName","questionText","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],[4,"ngFor","ngForOf"],[3,"click"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"flex","w-full"],[1,"flex","m-2","align-center"],[3,"ngModel","ngModelChange"],[1,"flex-grow","px-4","py-2","m-2"],["matInput","","type","text","placeholder","Texte de la R\xe9ponse","name","qcmResponseList[i].label",1,"w-full","bg-transparent","border-b","m-auto","block","border-gray-500","mb-6","text-gray-700","p-1",3,"ngModel","ngModelChange"],[1,"flex-none","text-center","px-4","py-2","m-2"],["color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(l.Sb(0,"mat-card"),l.Sb(1,"mat-card-header"),l.Sb(2,"mat-card-title"),l.Ac(3," QUESTION "),l.Rb(),l.Sb(4,"mat-card-subtitle",0),l.Ac(5," :) "),l.Rb(),l.Rb(),l.Sb(6,"mat-card-content",1),l.Sb(7,"form",2),l.Sb(8,"mat-form-field",1),l.Nb(9,"input",3),l.Rb(),l.Rb(),l.Sb(10,"ol"),l.zc(11,Vt,10,2,"li",4),l.Rb(),l.Sb(12,"pre"),l.Ac(13,"    "),l.Sb(14,"code"),l.Ac(15),l.ec(16,"json"),l.Rb(),l.Ac(17,"\n"),l.Rb(),l.Sb(18,"mat-icon",5),l.Zb("click",(function(){return e.addResponse()})),l.Ac(19,"add"),l.Rb(),l.Rb(),l.Sb(20,"mat-dialog-actions"),l.zc(21,Xt,2,0,"button",6),l.Rb(),l.Rb()),2&t&&(l.Bb(7),l.kc("formGroup",e.QCMQuestionForm),l.Bb(4),l.kc("ngForOf",e.qcmResponseList),l.Bb(4),l.Dc("\n        ",e.context,"\n    ",l.fc(16,5,e.qcmResponseList),"\n"),l.Bb(6),l.kc("ngIf",""!=e.QCMQuestionForm.value.questionText))},directives:[Gt.a,Gt.c,Gt.f,Gt.e,Gt.b,s.t,s.n,s.g,P.c,s.c,L.b,s.m,s.f,i.l,T.a,_t.c,i.m,$.a,s.p,N.b],pipes:[i.g],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),Kt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-input-question-form"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"input-question-form works!"),l.Rb())},styles:[""]}),t})(),Wt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-ordering-question-form"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"ordering-question-form works!"),l.Rb())},styles:[""]}),t})();function Yt(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-qcu-question-form",3),l.Zb("onQuestionSave",(function(){return l.rc(t),l.dc().questionSaved()})),l.Rb()}if(2&t){const t=l.dc();l.kc("quizId",t.quizId)("context",t.context)("question",t.question)}}function te(t,e){if(1&t){const t=l.Tb();l.Sb(0,"app-qcm-question-form",3),l.Zb("onQuestionSave",(function(){return l.rc(t),l.dc().questionSaved()})),l.Rb()}if(2&t){const t=l.dc();l.kc("quizId",t.quizId)("context",t.context)("question",t.question)}}function ee(t,e){if(1&t&&l.Nb(0,"app-input-question-form",4),2&t){const t=l.dc();l.kc("quizId",t.quizId)}}function ne(t,e){if(1&t&&l.Nb(0,"app-ordering-question-form",4),2&t){const t=l.dc();l.kc("quizId",t.quizId)}}let ie=(()=>{class t{constructor(){this.onQuestionSave=new l.o}ngOnInit(){}questionSaved(){this.onQuestionSave.next("Ok")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-question-form"]],inputs:{question_type:"question_type",quizId:"quizId",context:"context",question:"question"},outputs:{onQuestionSave:"onQuestionSave"},decls:5,vars:5,consts:[[3,"ngSwitch"],[3,"quizId","context","question","onQuestionSave",4,"ngSwitchCase"],[3,"quizId",4,"ngSwitchCase"],[3,"quizId","context","question","onQuestionSave"],[3,"quizId"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.zc(1,Yt,1,3,"app-qcu-question-form",1),l.zc(2,te,1,3,"app-qcm-question-form",1),l.zc(3,ee,1,1,"app-input-question-form",2),l.zc(4,ne,1,1,"app-ordering-question-form",2),l.Rb()),2&t&&(l.kc("ngSwitch",e.question_type),l.Bb(1),l.kc("ngSwitchCase","QCU"),l.Bb(1),l.kc("ngSwitchCase","QCM"),l.Bb(1),l.kc("ngSwitchCase","INPUT"),l.Bb(1),l.kc("ngSwitchCase","ORDERING"))},directives:[i.o,i.p,Et,Jt,Kt,Wt],styles:[""]}),t})();function oe(t,e){1&t&&(l.Sb(0,"span"),l.Ac(1,"Cr\xe9er le quiz"),l.Rb())}function se(t,e){1&t&&(l.Sb(0,"span"),l.Ac(1,"Enregistrer"),l.Rb())}function ce(t,e){if(1&t){const t=l.Tb();l.Sb(0,"button",16),l.Zb("click",(function(){return l.rc(t),l.dc().openDialog()})),l.Sb(1,"mat-icon"),l.Ac(2,"add"),l.Rb(),l.Ac(3,"Question "),l.Rb()}}let re=(()=>{class t{constructor(t,e,n,i,o,s,c,r){this.router=t,this.fb=e,this.quizService=n,this.snackBar=i,this.authenticationService=o,this.dialog=s,this.route=c,this.questionService=r,this.isCreated=!1,this.context="new",this.createQuizForm=this.fb.group({title:[""],description:[""],theme:[""],isShared:[!1]})}ngOnChanges(t){}ngOnInit(){var t,e;this.userSubscription=this.authenticationService.currentUser.subscribe(t=>this.currentUser=t);const n=null===(e=null===(t=this.route.snapshot.data)||void 0===t?void 0:t._quiz)||void 0===e?void 0:e.payload;n?(this.createQuizForm=this.fb.group({title:[n.title],description:[n.description],theme:[n.theme],isShared:[n.isShared]}),this.isCreated=!0,this.currentQuiz=n,this.questionService.loadQuestions(n.questions)):this.questionService.loadQuestions([])}createQuiz(){const t=Object.assign({},this.createQuizForm.value);t.creator=this.currentUser._id,t.dateCreated=new Date,t.cover="assets/quiz.jpg",this.subscription=this.quizService.postQuiz(t).subscribe({next:t=>{"success"==t.status?(this.snackBar.open(t.status+"\n"+t.message,"X",{duration:4e3}),this.currentQuiz=t.payload,this.isCreated=!0):this.snackBar.open(t.status+"\n"+t.message,"X")},error:t=>{this.snackBar.open(t,"close")},complete:console.log})}saveQuiz(){this.isCreated?this.updateQuiz():this.createQuiz()}updateQuiz(){this.updateSubscription=this.quizService.updateQuiz(this.currentQuiz._id,this.createQuizForm.value).subscribe({next:t=>{this.snackBar.open(t.status+"\n"+t.message,"X",{duration:4e3})},error:t=>{this.snackBar.open(t,"close")},complete:console.log})}openDialog(){this.dialog.open(Lt,{width:"250px",data:{question_type:["QCM","QCU","INPUT","ORDERING"]}}).afterClosed().subscribe(t=>{this.currentQuestionType=t}),this.context="new"}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.userSubscription&&this.userSubscription.unsubscribe(),this.updateSubscription&&this.updateSubscription.unsubscribe()}updateQuestionContext(t){this.currentQuestionType=t.question_type,this.questionToUpdate=Object.assign({},t),this.context="update"}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(p.b),l.Mb(s.e),l.Mb(pt),l.Mb(ct.a),l.Mb(_.a),l.Mb(_t.b),l.Mb(p.a),l.Mb(Dt))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-add-quiz"]],features:[l.zb],decls:24,vars:9,consts:[[1,"flex","flex-col","mx-auto"],[1,"flex","flex-row"],[1,"shadow-lg","sm:flex","sm:w-full","bg-white","p-8","mx-2","w-1/2"],[1,"w-full","p-5","m-5",3,"formGroup"],[1,"w-full"],["matInput","","type","text","placeholder","Titre","required","","formControlName","title",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1","text-4xl"],["type","text","placeholder","Description","formControlName","description","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],["type","text","placeholder","Theme","formControlName","theme","matInput","",1,"bg-transparent","border-b","m-auto","block","border-gray-500","w-full","mb-6","text-gray-700","pb-1"],["formControlName","isShared",1,"px-6"],["mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],[1,"w-full",3,"onQuestionUpdateCliqued"],[1,"flex","w-full","justify-center","py-4","px-2","bg-gray-200","m-3"],[1,"w-3/4"],[3,"quizId","question_type","context","question","onQuestionSave"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"div",2),l.Sb(3,"form",3),l.Sb(4,"mat-form-field",4),l.Nb(5,"input",5),l.Rb(),l.Sb(6,"mat-form-field",4),l.Nb(7,"input",6),l.Rb(),l.Sb(8,"mat-form-field",4),l.Nb(9,"input",7),l.Rb(),l.Sb(10,"div",4),l.Sb(11,"mat-checkbox",8),l.Ac(12,"Partag\xe9"),l.Rb(),l.Rb(),l.Sb(13,"div",4),l.Sb(14,"button",9),l.Zb("click",(function(){return e.saveQuiz()})),l.zc(15,oe,2,0,"span",10),l.zc(16,se,2,0,"span",10),l.Rb(),l.Rb(),l.Sb(17,"div",4),l.zc(18,ce,4,0,"button",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(19,"div",2),l.Sb(20,"app-question-list",12),l.Zb("onQuestionUpdateCliqued",(function(t){return e.updateQuestionContext(t)})),l.Rb(),l.Rb(),l.Rb(),l.Sb(21,"div",13),l.Sb(22,"div",14),l.Sb(23,"app-question-form",15),l.Zb("onQuestionSave",(function(){return e.currentQuestionType=""})),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(3),l.kc("formGroup",e.createQuizForm),l.Bb(11),l.kc("disabled",!e.createQuizForm.valid),l.Bb(1),l.kc("ngIf",!e.isCreated),l.Bb(1),l.kc("ngIf",e.isCreated),l.Bb(2),l.kc("ngIf",e.isCreated),l.Bb(5),l.kc("quizId",null==e.currentQuiz?null:e.currentQuiz._id)("question_type",e.currentQuestionType)("context",e.context)("question",e.questionToUpdate))},directives:[s.t,s.n,s.g,P.c,L.b,s.c,s.r,s.m,s.f,$.a,N.b,i.m,Ft,ie,T.a],styles:[""]}),t})();function ae(t,e){1&t&&(l.Sb(0,"div",23),l.Nb(1,"mat-spinner"),l.Rb())}function ue(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Date de cr\xe9ation "),l.Rb())}function le(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.ec(2,"date"),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",l.hc(2,1,null==t?null:t.dateCreated,"d MMMM y","","fr-FR")," ")}}function be(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Th\xe8me "),l.Rb())}function de(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t?null:t.theme," ")}}function pe(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Title "),l.Rb())}function me(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Nb(2,"br"),l.Sb(3,"p",26),l.Ac(4),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t?null:t.title," "),l.Bb(3),l.Cc(" ",null==t?null:t.description,"")}}function he(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Cover "),l.Rb())}function fe(t,e){if(1&t&&(l.Sb(0,"td",25),l.Nb(1,"img",28),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("src",null==t?null:t.cover,l.sc)}}function ge(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Shared "),l.Rb())}function Se(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",t.isShared," ")}}function Re(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Actions "),l.Rb())}const ve=function(t){return["/creator/quiz/update",t]},xe=function(t){return["/creator/session/open",t]};function Ce(t,e){if(1&t){const t=l.Tb();l.Sb(0,"td",29),l.Sb(1,"button",30),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().delete(null==n?null:n._id)})),l.Sb(2,"mat-icon",31),l.Ac(3,"delete"),l.Rb(),l.Rb(),l.Sb(4,"button",32),l.Sb(5,"mat-icon",33),l.Ac(6,"edit"),l.Rb(),l.Rb(),l.Sb(7,"button",32),l.Sb(8,"mat-icon",33),l.Ac(9,"airplay"),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit;l.Bb(4),l.kc("routerLink",l.mc(2,ve,t._id)),l.Bb(3),l.kc("routerLink",l.mc(4,xe,t._id))}}function qe(t,e){1&t&&l.Nb(0,"mat-header-row")}function we(t,e){1&t&&l.Nb(0,"mat-row")}const ye=function(){return["/creator/quiz/add"]},ze=function(){return[5,10,20]};let ke=(()=>{class t{constructor(t,e,n){this.quizService=t,this.snackBar=e,this.dialog=n,this.isLoadingResults=!1,this.displayedColumns=["dateCreated","theme","title","cover","shared","actions"],this.resultsLength=0}ngOnInit(){this.getCreatorQuizzes()}ngOnChanges(){this.datasource=new r.k(this.quiz),this.datasource.paginator=this.paginator,this.datasource.sort=this.sort}delete(t){this.dialog.open($t,{width:"450px",data:"Supprimer le Quiz?\n"}).afterClosed().subscribe(e=>{e&&this.quizService.deleteQuiz(t).subscribe({next:t=>{this.snackBar.open(t.message,"X",{duration:3e3}),this.getCreatorQuizzes()},error:t=>{this.snackBar.open(t.message,"X")},complete:console.log})})}applyFilter(t){this.datasource.filter=t.trim().toLowerCase()}ngOnDestroy(){this.subscription.unsubscribe()}getCreatorQuizzes(){this.isLoadingResults=!0,this.subscription=this.quizService.getQuizzesByCreator(JSON.parse(localStorage.getItem("currentUser"))._id).subscribe({next:t=>{var e;this.quiz=t.payload,this.datasource=new r.k(this.quiz),this.resultsLength=null===(e=this.quiz)||void 0===e?void 0:e.length,this.datasource.paginator=this.paginator,this.datasource.sort=this.sort,this.snackBar.open(t.message,"X",{duration:3e3})},error:t=>{this.snackBar.open(t.message,"X")},complete:()=>{this.isLoadingResults=!1}})}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(pt),l.Mb(ct.a),l.Mb(_t.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-quiz-list"]],viewQuery:function(t,e){var n;1&t&&(l.vc(a.a,!0),l.vc(u.a,!0)),2&t&&(l.oc(n=l.ac())&&(e.paginator=n.first),l.oc(n=l.ac())&&(e.sort=n.first))},features:[l.zb],decls:34,vars:10,consts:[[1,"container","w-full","flex-full"],[1,"flex","mx-auto"],[1,"justify-start","px-12","align-center"],["matPrefix",""],["matInput","","placeholder","Filter",1,"px-12","py-3","text-teal-900","rounded-b","shadow-md",3,"keyup"],[1,"align-center"],["mat-stroked-button","",1,"justify-end",3,"routerLink"],["class","spinner-container",4,"ngIf"],[1,"shadow-lg","mat-elevation-z8","px-6exi",2,"cursor","pointer"],["mat-table","","matSort","","matSortActive","dateCreated","matSortDirection","desc","matSortDisableClear","",1,"font-mono",3,"dataSource"],["matColumnDef","dateCreated"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","theme"],["matColumnDef","title"],["matColumnDef","cover",1,"lg:hidden"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","shared"],["matColumnDef","actions"],["mat-cell","","class","flex-row",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],[1,"spinner-container"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"w-full","text-gray-700","font-mono"],["mat-header-cell",""],[1,"h-12",3,"src"],["mat-cell","",1,"flex-row"],["mat-button","",3,"click"],["color","warn",1,"icon-button"],["mat-button","",3,"routerLink"],["color","primary",1,"icon-button"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"mat-form-field",2),l.Sb(3,"mat-icon",3),l.Ac(4,"search"),l.Rb(),l.Sb(5,"input",4),l.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),l.Rb(),l.Rb(),l.Sb(6,"div",5),l.Sb(7,"a",6),l.Sb(8,"mat-icon"),l.Ac(9,"add"),l.Rb(),l.Rb(),l.Rb(),l.zc(10,ae,2,0,"div",7),l.Rb(),l.Sb(11,"div",8),l.Sb(12,"table",9),l.Qb(13,10),l.zc(14,ue,2,0,"th",11),l.zc(15,le,3,6,"td",12),l.Pb(),l.Qb(16,13),l.zc(17,be,2,0,"th",11),l.zc(18,de,2,1,"td",12),l.Pb(),l.Qb(19,14),l.zc(20,pe,2,0,"th",11),l.zc(21,me,5,2,"td",12),l.Pb(),l.Qb(22,15),l.zc(23,he,2,0,"th",16),l.zc(24,fe,2,1,"td",12),l.Pb(),l.Qb(25,17),l.zc(26,ge,2,0,"th",16),l.zc(27,Se,2,1,"td",12),l.Pb(),l.Qb(28,18),l.zc(29,Re,2,0,"th",16),l.zc(30,Ce,10,6,"td",19),l.Pb(),l.zc(31,qe,1,0,"mat-header-row",20),l.zc(32,we,1,0,"mat-row",21),l.Rb(),l.Nb(33,"mat-paginator",22),l.Rb(),l.Rb()),2&t&&(l.Bb(7),l.kc("routerLink",l.lc(8,ye)),l.Bb(3),l.kc("ngIf",e.isLoadingResults),l.Bb(2),l.kc("dataSource",e.datasource),l.Bb(19),l.kc("matHeaderRowDef",e.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",e.displayedColumns),l.Bb(1),l.kc("length",null==e.quiz?null:e.quiz.length)("pageSize",5)("pageSizeOptions",l.lc(9,ze)))},directives:[P.c,T.a,P.h,L.b,N.a,p.e,i.m,r.j,u.a,r.c,r.e,r.b,r.g,r.i,a.a,D.b,r.d,u.b,r.a,N.b,p.c,r.f,r.h],pipes:[i.e],styles:["table[_ngcontent-%COMP%]{width:100%}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{border-bottom:none;border-top:none}.mat-column-dateCreated[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}.mat-column-theme[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}.mat-column-title[_ngcontent-%COMP%]{flex:9rem;min-width:9rem}.mat-column-cover[_ngcontent-%COMP%], .mat-column-shared[_ngcontent-%COMP%]{flex:2rem;min-width:2rem}.mat-column-actions[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}th[_ngcontent-%COMP%]{border-bottom:transparent;font-size:1rem}td[_ngcontent-%COMP%]{border:transparent;padding:5px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#8a2be2}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})(),Qe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-repos-page"]],decls:4,vars:0,consts:[[1,"text-blue-900"],[1,"container"]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1," Quiz List"),l.Rb(),l.Sb(2,"div",1),l.Nb(3,"app-quiz-list"),l.Rb())},directives:[ke],styles:[""]}),t})(),Me=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-support-page"]],decls:9,vars:0,consts:[[1,""]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"h3"),l.Ac(2,"Support For Creator"),l.Rb(),l.Sb(3,"p"),l.Ac(4," Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum tenetur corrupti, recusandae impedit dolores molestias architecto est neque quod, laborum minus? Nam quae error quaerat nostrum nesciunt saepe tenetur at."),l.Rb(),l.Sb(5,"h3"),l.Ac(6,"Issues"),l.Rb(),l.Sb(7,"p"),l.Ac(8," Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum tenetur corrupti, recusandae impedit dolores molestias architecto est neque quod, laborum minus? Nam quae error quaerat nostrum nesciunt saepe tenetur at."),l.Rb(),l.Rb())},styles:[""]}),t})(),Oe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-settings"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Sb(0,"p"),l.Ac(1,"settings works!"),l.Rb())},styles:[""]}),t})();function Ae(t,e){if(1&t&&(l.Sb(0,"div",7),l.Sb(1,"p",8),l.Ac(2),l.Rb(),l.Sb(3,"p",9),l.Ac(4),l.Rb(),l.Sb(5,"div",10),l.Sb(6,"p",11),l.Ac(7),l.Rb(),l.Rb(),l.Rb()),2&t){const t=e.$implicit,n=e.index;l.Bb(2),l.Bc(n+1),l.Bb(2),l.Bc(t.questionText),l.Bb(3),l.Bc(t.question_type)}}let Be=(()=>{class t{constructor(t,e,n){this.questionService=t,this.data=e,this.dialogRef=n}ngOnInit(){this.subscription=this.questionService.getQuestionsByQuiz(this.data.quizId).subscribe({next:t=>{this.questions=t.payload},error:t=>{console.log(t.message)},complete:()=>{}})}confirm(){this.dialogRef.close(!0)}cancel(){this.dialogRef.close(!1)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(Dt),l.Mb(_t.a),l.Mb(_t.g))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-view-shared-quiz-content"]],decls:10,vars:1,consts:[["mat-dialog-title","",1,"flex","text-center"],[1,""],[1,"flex","flex-col","w-full"],["class","flex flex-row w-full",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","py-5"],[1,"flex","items-center"],["mat-raised-button","","mat-dialog-close","","color","primary",3,"click"],[1,"flex","flex-row","w-full"],[1,"px-4","text-blue-800","w-1/12"],[1,"text-left","w-9/12"],[1,"justify-end","text-right","float-right","w-1/6"],[1,"px-8","text-blue-800","text-right"]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1,"Questions"),l.Rb(),l.Nb(2,"hr"),l.Sb(3,"mat-dialog-content",1),l.Sb(4,"div",2),l.zc(5,Ae,8,3,"div",3),l.Rb(),l.Rb(),l.Sb(6,"mat-dialog-actions",4),l.Sb(7,"div",5),l.Sb(8,"button",6),l.Zb("click",(function(){return e.cancel()})),l.Ac(9," Fermer "),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(5),l.kc("ngForOf",e.questions))},directives:[_t.h,_t.e,i.l,_t.c,N.b,_t.d],styles:[""]}),t})();var Ie=n("Qu3c");function _e(t,e){1&t&&(l.Sb(0,"div",21),l.Nb(1,"mat-spinner",22),l.Sb(2,"p",23),l.Ac(3,"Loading, please wait..."),l.Rb(),l.Rb()),2&t&&(l.Bb(1),l.kc("diameter",45))}function Pe(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Date de cr\xe9ation "),l.Rb())}function Le(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.ec(2,"date"),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",l.hc(2,1,null==t?null:t.dateCreated,"d MMMM y","","fr-FR")," ")}}function De(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Th\xe8me "),l.Rb())}function $e(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t?null:t.theme," ")}}function Ne(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Title "),l.Rb())}function Te(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Nb(2,"br"),l.Sb(3,"p",26),l.Ac(4),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t?null:t.title," "),l.Bb(3),l.Cc(" ",null==t?null:t.description,"")}}function je(t,e){1&t&&(l.Sb(0,"th",24),l.Ac(1," Creator "),l.Rb())}function Fe(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",null==t||null==t.creator?null:t.creator.fullusername," ")}}function Ge(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Cover "),l.Rb())}function Ue(t,e){if(1&t&&(l.Sb(0,"td",25),l.Nb(1,"img",28),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.kc("src",null==t?null:t.cover,l.sc)}}function Ze(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Shared "),l.Rb())}function He(t,e){if(1&t&&(l.Sb(0,"td",25),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Cc(" ",t.isShared," ")}}function Ee(t,e){1&t&&(l.Sb(0,"th",27),l.Ac(1," Actions "),l.Rb())}function Ve(t,e){if(1&t){const t=l.Tb();l.Sb(0,"td",25),l.Sb(1,"button",29),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().duplicate(null==n?null:n._id)})),l.Sb(2,"mat-icon",30),l.Ac(3,"file_copy"),l.Rb(),l.Rb(),l.Sb(4,"button",31),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().viewQuestionList(null==n?null:n._id)})),l.Sb(5,"mat-icon",32),l.Ac(6,"visibility"),l.Rb(),l.Rb(),l.Rb()}}function Xe(t,e){1&t&&l.Nb(0,"mat-header-row")}function Je(t,e){1&t&&l.Nb(0,"mat-row")}const Ke=function(){return[5,10,20]};let We=(()=>{class t{constructor(t,e,n){this.quizService=t,this.snackBar=e,this.dialog=n,this.isLoadingResults=!1,this.displayedColumns=["dateCreated","theme","title","creator","actions"],this.resultsLength=0}ngOnInit(){this.getSharedQuizzes()}ngOnChanges(){this.datasource=new r.k(this.quiz),this.datasource.paginator=this.paginator,this.datasource.sort=this.sort}duplicate(t){this.quizService.duplicateQuiz(t).subscribe({next:t=>{this.snackBar.open(t.message,"X",{duration:3e3})},error:t=>{this.snackBar.open(t.message,"X")},complete:console.log})}edit(t){console.log(t)}applyFilter(t){this.datasource.filter=t.trim().toLowerCase()}ngOnDestroy(){this.subscription.unsubscribe()}getSharedQuizzes(){this.isLoadingResults=!0,this.subscription=this.quizService.getSharedQuizzes().subscribe({next:t=>{var e;this.isLoadingResults=!0,this.quiz=t.payload,this.datasource=new r.k(this.quiz),this.resultsLength=null===(e=this.quiz)||void 0===e?void 0:e.length,this.datasource.paginator=this.paginator,this.datasource.sort=this.sort,this.snackBar.open(t.message,"X",{duration:3e3})},error:t=>{this.snackBar.open(t.message,"X")},complete:()=>{this.isLoadingResults=!1}})}viewQuestionList(t){this.dialog.open(Be,{width:"650px",data:{quizId:t}})}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(pt),l.Mb(ct.a),l.Mb(_t.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-shared-quizzes"]],viewQuery:function(t,e){var n;1&t&&(l.vc(a.a,!0),l.vc(u.a,!0)),2&t&&(l.oc(n=l.ac())&&(e.paginator=n.first),l.oc(n=l.ac())&&(e.sort=n.first))},features:[l.zb],decls:35,vars:8,consts:[[1,"container","w-full","flex-full"],[1,"flex","mx-auto"],[1,"justify-start","px-12","align-center"],["matPrefix",""],["matInput","","placeholder","Filter",1,"px-12","py-3","text-teal-900","rounded-b","shadow-md",3,"keyup"],["class","spinner-container flex-col",4,"ngIf"],[1,"shadow-lg","mat-elevation-z8","px-6exi",2,"cursor","pointer"],["mat-table","","matSort","","matSortActive","dateCreated","matSortDirection","desc","matSortDisableClear","",1,"font-mono",3,"dataSource"],["matColumnDef","dateCreated"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","theme"],["matColumnDef","title"],["matColumnDef","creator"],["matColumnDef","cover",1,"lg:hidden"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","shared"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],[1,"spinner-container","flex-col"],["strokeWidth","4","color","warn","title","loading...",3,"diameter"],[1,"text-gray-600"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"w-full","text-gray-700","font-mono"],["mat-header-cell",""],[1,"h-12",3,"src"],["mat-button","","matTooltip","Ajouter \xe0 mes Quiz",3,"click"],["color","warn",1,"icon-button"],["mat-button","","matTooltip","Voir les questions",3,"click"],["color","primary",1,"icon-button"]],template:function(t,e){1&t&&(l.Sb(0,"h1"),l.Ac(1,"Les Quiz partag\xe9s"),l.Rb(),l.Sb(2,"div",0),l.Sb(3,"div",1),l.Sb(4,"mat-form-field",2),l.Sb(5,"mat-icon",3),l.Ac(6,"search"),l.Rb(),l.Sb(7,"input",4),l.Zb("keyup",(function(t){return e.applyFilter(t.target.value)})),l.Rb(),l.Rb(),l.zc(8,_e,4,1,"div",5),l.Rb(),l.Sb(9,"div",6),l.Sb(10,"table",7),l.Qb(11,8),l.zc(12,Pe,2,0,"th",9),l.zc(13,Le,3,6,"td",10),l.Pb(),l.Qb(14,11),l.zc(15,De,2,0,"th",9),l.zc(16,$e,2,1,"td",10),l.Pb(),l.Qb(17,12),l.zc(18,Ne,2,0,"th",9),l.zc(19,Te,5,2,"td",10),l.Pb(),l.Qb(20,13),l.zc(21,je,2,0,"th",9),l.zc(22,Fe,2,1,"td",10),l.Pb(),l.Qb(23,14),l.zc(24,Ge,2,0,"th",15),l.zc(25,Ue,2,1,"td",10),l.Pb(),l.Qb(26,16),l.zc(27,Ze,2,0,"th",15),l.zc(28,He,2,1,"td",10),l.Pb(),l.Qb(29,17),l.zc(30,Ee,2,0,"th",15),l.zc(31,Ve,7,0,"td",10),l.Pb(),l.zc(32,Xe,1,0,"mat-header-row",18),l.zc(33,Je,1,0,"mat-row",19),l.Rb(),l.Nb(34,"mat-paginator",20),l.Rb(),l.Rb()),2&t&&(l.Bb(8),l.kc("ngIf",e.isLoadingResults),l.Bb(2),l.kc("dataSource",e.datasource),l.Bb(22),l.kc("matHeaderRowDef",e.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",e.displayedColumns),l.Bb(1),l.kc("length",null==e.quiz?null:e.quiz.length)("pageSize",5)("pageSizeOptions",l.lc(7,Ke)))},directives:[P.c,T.a,P.h,L.b,i.m,r.j,u.a,r.c,r.e,r.b,r.g,r.i,a.a,D.b,r.d,u.b,r.a,N.b,Ie.a,r.f,r.h],pipes:[i.e],styles:["table[_ngcontent-%COMP%]{width:100%}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{border-bottom:none;border-top:none}.mat-column-dateCreated[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}.mat-column-theme[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}.mat-column-title[_ngcontent-%COMP%]{flex:9rem;min-width:9rem}.mat-column-creator[_ngcontent-%COMP%], .mat-column-shared[_ngcontent-%COMP%]{flex:2rem;min-width:2rem}.mat-column-actions[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}th[_ngcontent-%COMP%]{border-bottom:transparent;font-size:1rem}td[_ngcontent-%COMP%]{border:transparent;padding:5px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#8a2be2}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})();var Ye=n("7EHt");function tn(t,e){if(1&t&&(l.Sb(0,"mat-list-item"),l.Sb(1,"mat-icon",5),l.Ac(2,"person"),l.Rb(),l.Sb(3,"h3",6),l.Ac(4),l.Rb(),l.Rb()),2&t){const t=e.$implicit;l.Bb(4),l.Dc(" ",t.firstname," ",t.lastname,"")}}function en(t,e){if(1&t&&(l.Sb(0,"mat-expansion-panel"),l.Sb(1,"mat-expansion-panel-header"),l.Sb(2,"mat-panel-title"),l.Ac(3),l.Rb(),l.Sb(4,"mat-panel-description"),l.Ac(5),l.Rb(),l.Rb(),l.Sb(6,"mat-list"),l.zc(7,tn,5,2,"mat-list-item",4),l.Rb(),l.Rb()),2&t){const t=e.$implicit,n=e.index;l.Bb(3),l.Ec(" ",n+1,"- ",t.label," (",null==t.students?null:t.students.length,") "),l.Bb(2),l.Cc(" ",t.description," "),l.Bb(2),l.kc("ngForOf",null==t?null:t.students)}}let nn=(()=>{class t{constructor(t,e,n){this.groupService=t,this.authenticationService=e,this.snackbar=n,this.authenticationService.currentUser.subscribe(t=>this.currentCreator=t)}ngOnInit(){this.subscription=this.groupService.getGroupsByCreator(this.currentCreator._id).subscribe({next:t=>{this.currentGroups=t.payload,this.snackbar.open(t.message,"X",{duration:3e3})},error:t=>{this.snackbar.open(t.message,"X")},complete:()=>{}})}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(st),l.Mb(_.a),l.Mb(ct.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-group-list"]],viewQuery:function(t,e){var n;1&t&&l.Fc(Ye.a,!0),2&t&&l.oc(n=l.ac())&&(e.accordion=n.first)},decls:9,vars:1,consts:[[1,"text-gray-900","font-sans"],[1,"example-action-buttons"],["mat-button","",3,"click"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],["matListIcon",""],["matLine",""]],template:function(t,e){1&t&&(l.Sb(0,"h1",0),l.Ac(1,"Mes Groupes"),l.Rb(),l.Sb(2,"div",1),l.Sb(3,"button",2),l.Zb("click",(function(){return e.accordion.openAll()})),l.Ac(4,"Tout Ouvrir"),l.Rb(),l.Sb(5,"button",2),l.Zb("click",(function(){return e.accordion.closeAll()})),l.Ac(6,"Tout Fermer"),l.Rb(),l.Rb(),l.Sb(7,"mat-accordion",3),l.zc(8,en,8,5,"mat-expansion-panel",4),l.Rb()),2&t&&(l.Bb(8),l.kc("ngForOf",e.currentGroups))},directives:[N.b,Ye.a,i.l,Ye.c,Ye.e,Ye.f,Ye.d,qt.a,qt.c,T.a,qt.b,at.k],styles:[".example-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]}),t})(),on=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-group-page"]],decls:2,vars:0,consts:[[1,"w-full","mx-auto","px-3","py-3"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Nb(1,"app-group-list"),l.Rb())},directives:[nn],styles:[""]}),t})();class sn{constructor(t){this.studentService=t,this.studentsSubject=new x.a([]),this.totalCount$=new x.a(0),this.loadingSubject=new x.a(!1),this.loading$=this.loadingSubject.asObservable()}loadStudents(t,e,n,i,o,s){this.loadingSubject.next(!0),this.studentService.findStudentsByCreator(t,e,n,i,o,s).pipe(Object(q.a)(()=>Object(C.a)([])),Object(w.a)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.studentsSubject.next(t.items),this.totalCount$.next(t.totalCount)})}connect(t){return console.log("Connecting data source"),this.studentsSubject.asObservable()}disconnect(t){this.studentsSubject.complete(),this.loadingSubject.complete(),this.totalCount$.complete()}}let cn=(()=>{class t{constructor(t){this.http=t}findStudentsByCreator(t,e=0,n=10,i="firstname",s="asc",c=""){return this.http.get(`${A.a.apiUrl}/api/v1/students/creator/${t}`,{params:(new o.d).set("page",e.toString()).set("limit",n.toString()).set("sort",i).set("direction",s).set("filter",c)}).pipe(Object(B.a)(t=>t.payload))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(o.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rn=["input"];function an(t,e){1&t&&(l.Sb(0,"div",17),l.Nb(1,"mat-spinner"),l.Rb())}function un(t,e){1&t&&(l.Sb(0,"th",18),l.Ac(1,"Pr\xe9nom"),l.Rb())}function ln(t,e){if(1&t&&(l.Sb(0,"td",19),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.firstname)}}function bn(t,e){1&t&&(l.Sb(0,"th",18),l.Ac(1,"Nom"),l.Rb())}function dn(t,e){if(1&t&&(l.Sb(0,"td",19),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.lastname)}}function pn(t,e){1&t&&(l.Sb(0,"th",18),l.Ac(1,"Genre"),l.Rb())}function mn(t,e){if(1&t&&(l.Sb(0,"td",19),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.gender)}}function hn(t,e){1&t&&(l.Sb(0,"th",18),l.Ac(1,"Login"),l.Rb())}function fn(t,e){if(1&t&&(l.Sb(0,"td",19),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.loginname)}}function gn(t,e){1&t&&(l.Sb(0,"th",18),l.Ac(1,"Mot de Passe"),l.Rb())}function Sn(t,e){if(1&t&&(l.Sb(0,"td",19),l.Ac(1),l.Rb()),2&t){const t=e.$implicit;l.Bb(1),l.Bc(t.password)}}function Rn(t,e){1&t&&(l.Sb(0,"th",18),l.Ac(1,"Actions"),l.Rb())}const vn=function(t){return["/creator/student/update",t]};function xn(t,e){if(1&t){const t=l.Tb();l.Sb(0,"td",19),l.Sb(1,"button",20),l.Zb("click",(function(){l.rc(t);const n=e.$implicit;return l.dc().delete(null==n?null:n._id)})),l.Sb(2,"mat-icon",21),l.Ac(3,"delete"),l.Rb(),l.Rb(),l.Sb(4,"button",22),l.Sb(5,"mat-icon",23),l.Ac(6,"edit"),l.Rb(),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit;l.Bb(4),l.kc("routerLink",l.mc(1,vn,t._id))}}function Cn(t,e){1&t&&l.Nb(0,"tr",24)}function qn(t,e){1&t&&l.Nb(0,"tr",25)}const wn=function(){return[10,20,50,100]};let yn=(()=>{class t{constructor(t,e){this.studentService=t,this.authService=e,this.displayedColumns=["firstname","lastname","gender","loginname","password","actions"],this.subscription=this.authService.currentUser.subscribe(t=>this.currentCreator=t)}ngOnInit(){this.dataSource=new sn(this.studentService),this.dataSource.loadStudents(this.currentCreator._id,0,10,"firstname","asc","")}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(z.a)(this.input.nativeElement,"keyup").pipe(Object(Q.a)(500),Object(M.a)(),Object(O.a)(()=>{this.paginator.pageIndex=0,this.loadStudentsPage()})).subscribe(),Object(k.a)(this.sort.sortChange,this.paginator.page).pipe(Object(O.a)(()=>{this.loadStudentsPage()})).subscribe()}loadStudentsPage(){this.dataSource.loadStudents(this.currentCreator._id,this.paginator.pageIndex,this.paginator.pageSize,this.sort.active,this.sort.direction,this.input.nativeElement.value)}delete(t){console.log(t)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(cn),l.Mb(_.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-student-list"]],viewQuery:function(t,e){var n;1&t&&(l.vc(a.a,!0),l.vc(u.a,!0),l.vc(rn,!0)),2&t&&(l.oc(n=l.ac())&&(e.paginator=n.first),l.oc(n=l.ac())&&(e.sort=n.first),l.oc(n=l.ac())&&(e.input=n.first))},decls:32,vars:12,consts:[["matInput","","placeholder","Chercher Apprenant"],["input",""],["class","spinner-container",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","firstname","matSortDirection","asc","matSortDisableClear","","aria-label","Student",3,"dataSource"],["matColumnDef","firstname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastname"],["matColumnDef","gender"],["matColumnDef","loginname"],["matColumnDef","password"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["paginator",""],[1,"spinner-container"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-button","",3,"click"],["color","warn",1,"icon-button"],["mat-button","",3,"routerLink"],["color","primary",1,"icon-button"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Sb(0,"h2"),l.Ac(1,"List des Apprenants"),l.Rb(),l.Sb(2,"mat-form-field"),l.Nb(3,"input",0,1),l.Rb(),l.zc(5,an,2,0,"div",2),l.ec(6,"async"),l.Sb(7,"div",3),l.Sb(8,"table",4),l.Qb(9,5),l.zc(10,un,2,0,"th",6),l.zc(11,ln,2,1,"td",7),l.Pb(),l.Qb(12,8),l.zc(13,bn,2,0,"th",6),l.zc(14,dn,2,1,"td",7),l.Pb(),l.Qb(15,9),l.zc(16,pn,2,0,"th",6),l.zc(17,mn,2,1,"td",7),l.Pb(),l.Qb(18,10),l.zc(19,hn,2,0,"th",6),l.zc(20,fn,2,1,"td",7),l.Pb(),l.Qb(21,11),l.zc(22,gn,2,0,"th",6),l.zc(23,Sn,2,1,"td",7),l.Pb(),l.Qb(24,12),l.zc(25,Rn,2,0,"th",6),l.zc(26,xn,7,3,"td",7),l.Pb(),l.zc(27,Cn,1,0,"tr",13),l.zc(28,qn,1,0,"tr",14),l.Rb(),l.Nb(29,"mat-paginator",15,16),l.ec(31,"async"),l.Rb()),2&t&&(l.Bb(5),l.kc("ngIf",l.fc(6,7,e.dataSource.loading$)),l.Bb(3),l.kc("dataSource",e.dataSource),l.Bb(19),l.kc("matHeaderRowDef",e.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",e.displayedColumns),l.Bb(1),l.kc("length",l.fc(31,9,e.dataSource.totalCount$))("pageSize",10)("pageSizeOptions",l.lc(11,wn)))},directives:[P.c,L.b,i.m,r.j,u.a,r.c,r.e,r.b,r.g,r.i,a.a,D.b,r.d,u.b,r.a,N.b,T.a,r.f,r.h],pipes:[i.b],styles:[".full-width-table[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}mat-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{border-bottom:none;border-top:none}.mat-column-firstname[_ngcontent-%COMP%], .mat-column-lastname[_ngcontent-%COMP%]{flex:4rem;min-width:4rem}.mat-column-gender[_ngcontent-%COMP%]{flex:2rem;min-width:2rem}.mat-column-loginname[_ngcontent-%COMP%], .mat-column-password[_ngcontent-%COMP%]{flex:3rem;min-width:3rem}.mat-column-actions[_ngcontent-%COMP%]{flex:6rem;min-width:6rem}th[_ngcontent-%COMP%]{border-bottom:transparent;font-size:1rem}td[_ngcontent-%COMP%]{border:transparent;padding:5px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#8a2be2}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})();const zn=[{path:"",component:At,children:[{path:"home",component:Bt},{path:"quiz",component:Qe},{path:"quiz/add",component:re},{path:"quiz/update/:id",component:re,resolve:{_quiz:mt}},{path:"group",component:on},{path:"group/add",component:S},{path:"group/update/:id",component:R},{path:"student",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Gb({type:t,selectors:[["app-student-page"]],decls:2,vars:0,consts:[[1,"flex-row","px-3","py-3","m-2"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Nb(1,"app-student-list"),l.Rb())},directives:[yn],styles:[""]}),t})()},{path:"student/add",component:v},{path:"student/update/:id",component:g},{path:"session/open/:id",component:dt,resolve:{quiz:mt}},{path:"session/update/:id",component:dt,resolve:{_quiz:mt}},{path:"session/list",component:ot},{path:"about",component:It.a},{path:"support",component:Me},{path:"shared",component:We},{path:"settings",component:Oe},{path:"**",redirectTo:"home",pathMatch:"full"}]},{path:"**",redirectTo:""}];let kn=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,p.f.forChild(zn)],p.f]}),t})(),Qn=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[i.c,kn,s.h,p.f,s.q,c.a,f.a,h.a,m,d,b]]}),t})()}}]);